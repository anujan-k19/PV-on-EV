{"version":3,"sources":["UROP/Components/StudyCase/Np_vs_Area/AxisBottom.js","UROP/Components/StudyCase/Np_vs_Area/AxisLeft.js","UROP/Components/StudyCase/Np_vs_Area/line.js","UROP/Components/StudyCase/Np_vs_Area/outerregion.js","UROP/Components/StudyCase/Np_vs_Area/points.js","UROP/Components/StudyCase/Np_vs_Area/lineTags.js","UROP/Components/StudyCase/Np_vs_Area/lineReact.js","UROP/Components/StudyCase/studyCase.js","UROP/Components/navbar.js","UROP/UI/DropdownChak.js","UROP/Components/D3_Charts/barAni.js","UROP/Components/D3_Charts/scatterAni.js","UROP/Components/D3_Charts/colourLegend2.js","UROP/Components/D3_Charts/multibarAni.js","UROP/Components/D3_Charts/multinegbarAni.js","UROP/Map/World/WorldCountries.js","UROP/Map/States/uStates.js","UROP/Map/Europe/EuroCountries.js","UROP/Components/MainModel/GraphSelector.js","UROP/Calculations/calculation.js","UROP/Components/MainModel/GraphSegment.js","UROP/UI/SliderChak.js","UROP/Map/World/MapOptions.js","UROP/Map/World/WorldCreator.js","UROP/Map/States/StatesCreator.js","UROP/Map/Europe/MapOptions.js","UROP/Map/Europe/EuropeCreator.js","UROP/Map/ModalSelector.js","UROP/Map/MapCreator.js","UROP/Map/mapData.js","UROP/UI/infoCalc.js","UROP/UI/UI.js","UROP/Components/MainModel/MainModel.js","UROP/Components/D3_Charts/colourLegend.js","UROP/Components/D3_Charts/linescatterChart.js","UROP/Components/D3_Charts/lineChart.js","UROP/Components/SecondModel/GraphSelector.js","UROP/Components/SecondModel/GraphSegment.js","UROP/UI/UI2.js","UROP/Components/SecondModel/SecondModel.js","UROP/impTheme.js","UROP/Components/Intro.js","UROP/app.js","UROP/Calculations/loadData.js","index.js"],"names":["AxisBottom","xScale","innerHeight","ticks","map","tickValue","className","transform","y2","stroke","y","style","textAnchor","dy","AxisLeft","yScale","innerWidth","x2","x","Line","data","d","opacity","x1","y1","Wp","OuterRegion","graphWidth","fontWeight","fontSize","points","fill","Points","cars","studyCase","margin","offset","Equiv_PV_cell_area_m2","PV_nominal_power_Wp","hasArrow","textAlign","label","Automaker_Model","closeDelay","size","r","LineTags","n_cell","Linechart","setStudyCase","casePosition","setCasePosition","top","bottom","left","right","width","scaleLinear","domain","range","height","tickOffset","onClick","event","clientX","clientY","absol","document","getElementById","getBoundingClientRect","invert","handleMouseClick","id","PV_cell_eff","StudyCaseComp","useState","marginInline","borderWidth","direction","alignItems","justifyContent","background","padding","borderTop","mline","marginBlock","as","FaCrosshairs","paddingBottom","color","paddingTop","borderTopRadius","alignSelf","paddingBlock","borderBottomWidth","borderBottomRadius","borderLeftWidth","borderLeftColor","borderRightWidth","borderRightColor","borderBottomColor","display","paddingInline","toFixed","borderRadius","AiOutlineInfoCircle","_hover","flex","Navbar","sections","useDisclosure","isOpen","onOpen","onClose","icon","lg","float","base","h","href","backgroundColor","textDecoration","pb","marginTop","spacing","Dropdown","options","selectedValue","onSelectedValueChange","tooltip","w","verticalAlign","bg","defaultValue","onChange","target","value","BarChart","length","dataOriginal","onClickValue","xAxisTitle","yAxisTitle","Title","xValue","yValue","xTitleOffset","yTitleOffset","titleOffset","colorTheme","country","toolTipText","formatNumber","dataLength","chartColour","axisSize","duration","filter","includes","ref","useRef","useEffect","draw","scaleBand","bandwidth","max","nice","xAxis","axisBottom","scale","tickSize","yAxis","axisLeft","tickSizeInner","tickSizeOuter","tickFormat","format","colorScale","scaleOrdinal","tagBar","region","abbrev","Math","log","chart","select","current","text","selectAll","join","classed","attr","xAxisGroup","yAxisGroup","transition","call","enter","append","update","exit","remove","delay","i","on","temp","__data__","html","pageY","pageX","this","Scatter","radius","toolTipText1","formatNumber1","toolTipText2","formatNumber2","labelOn","setLabel","tickPadding","labelsetter","g","ColourLegend","selection","position","legHov","onLegHov","legClick","onLegClick","prevData","legend","prototype","moveToFront","each","parentNode","appendChild","MultibarChart","yValue1","yValue2","setPrev","minY","maxY","min","bars1","separation","bars2","temp2","MultinegbarChart","labels","abs","GraphSelector","onClicked","graph","attributes","PVonEV_usageEmissions","EV_Usage_Emissions","schemeAccent","schemeCategory10","Annual_GHI_kWh_m2","CIEG2013_gCO2e_kWh","CIEG_gCO2_kWh_2018","VKT_day","PV_only_drivingRange_km_day","CIEG_trends_gCO2e_kWh","CIEG_PV_change_trends_gCO2e_kWh","body","clientWidth","CalcDataFunc","props","VKToption","PV_CellNominalEffiency","cellArea_ratio","caseOption","PV_performanceRatio","pvData","VKT","Array","VKTstat","EV_Eff_Wh_km","vehicle_footprint_m2","evCaseSelect","indexOf","PV_arrayNominalPower","floor","EV_Eff_km_kWh","manufacturingEmissions","push","ICEV_Usage_Emissions","forEach","Share_of_diesel_gasoline_vehicles","ICEV_usage_emissions_gCO2e_km","CIEG_kgCO2_kWh","PV_output_kWh_yr","gridSavings_kWh_yr","PV_only_drivingRange_perc","n","emissionReduction_savings","PVonEV_EV_ratio","EV_Usage_Emissions_change","temp3","temp4","CIEG_PV_trends_gCO2e_kWh","CIEG_gCO2_kWh","index","Year","EV_Electricitycost_USD_yr","PVonEV_Savings_USD_yr","PVonEV_Cost_USD_yr","PVonEV_LifetimeSavings_USD_yr","Electricity_cost_USD_kWh","pow","calculatedData","G20","CIEG_kgCO2_kWh_2018","EV_Usage_Emissions_Years","emissionReduction_savings_Years","PVonEV_usageEmissions_Years","PVonEV_EV_ratio_Years","EV_Usage_Emissions_change_Years","CIEG_kgCO2_kWh_Years","CIEG_gCO2_kWh_Years","GraphArea","dataRaw","desc","title","useStat","setGraph","mt","CaseSelector","valueChange","onValueChange","valueChange1","onValueChange1","p","q","colorScheme","focusThumbOnChange","val","onChangeEnd","boxSize","marginLeft","onBlur","VKTSelector","Sliders2","ml","mr","step","precision","paddingRight","paddingLeft","MapOptions","countries","setCountries","setMapClicked","EUR","ASIA","arraySame","buttonWidth","leftIcon","projection","geoMercator","path","geoPath","graticule","geoGraticule","Countries","mapClicked","regionsAvailable","gMap","zoom","scaleExtent","translateExtent","features","feature","properties","name","a","console","strokeWidth","onMouseOver","onMouseMove","nativeEvent","layerY","layerX","onMouseOut","b","truthCounter","j","WorldCreator","setlength","setOnClicked","geoAlbersUsa","UStates","state","StatesCreator","G20EUR","center","translate","EuropeCreator","ModalSelector","mapSelect","MapCreator","modalHeight","setData","json","then","world","states","objects","useData","onMapSelect","type","reduce","array","obj","_focus","boxShadow","maxW","InfoCalc","totalCellArea","nominalPower","UIMaker","setCaseOption","setVKTOption","setPV_performanceRatio","setPV_CellNominalEffiency","setCellArea_ratio","caseArray","PV_totalCellArea","borderColor","MainModel","PV_CellNominalEfficiency","setPV_CellNominalEfficiency","Linescatter","dataFormatted","maxX","lineGenerator","line","lines","extent","GraphArea2","UIMaker2","SecondModel","caseOption1","setCaseOption1","VKToption1","setVKTOption1","cellArea_ratio1","setCellArea_ratio1","PV_CellNominalEfficiency1","setPV_CellNominalEfficiency1","PV_performanceRatio1","setPV_performanceRatio1","theme","extendTheme","fonts","heading","colors","popup","Intro","p1","p2","p3","App","setGraphWidth","window","setModalHeight","setting","addEventListener","removeEventListener","LoadData","textjson","l1","l2","l3","root","ReactDOM","render"],"mappings":"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","file":"static/js/main.faaf9061.chunk.js","sourcesContent":["\r\nexport const AxisBottom = ({xScale, innerHeight}) => \r\n    xScale.ticks().map(tickValue => ( \r\n\r\n    <g \r\n        className = \"tick\"\r\n        key={tickValue} \r\n        transform={`translate(${xScale(tickValue)},0)`}\r\n    >\r\n    \r\n    <line \r\n        y2= {innerHeight} \r\n        stroke=\"black\"\r\n    />\r\n    \r\n    <text \r\n        y={innerHeight + 5} \r\n        style={{textAnchor:\"middle\" }} \r\n        dy=\"0.73em\"\r\n        > {tickValue} \r\n    \r\n    </text> \r\n\r\n    </g>               \r\n))","export const AxisLeft = ({yScale, innerWidth}) => \r\n\r\n    yScale.ticks().map(tickValue => ( \r\n\r\n        <g \r\n            className = \"tick\"\r\n            key={tickValue} \r\n            transform={`translate(0,${yScale(tickValue)})`}\r\n        >\r\n\r\n        <line \r\n            x2= {innerWidth} \r\n            stroke=\"black\"\r\n        />\r\n\r\n        <text \r\n            x={-10} \r\n            style={{textAnchor:\"end\" }} \r\n            dy=\"0.32em\"> \r\n            {tickValue} \r\n        </text> \r\n\r\n    </g>               \r\n))","\r\nexport const Line = ({\r\n    data, \r\n    xScale, \r\n    yScale, }) =>{\r\nreturn (\r\ndata.map(d => (\r\n            <line \r\n            opacity={0.5}\r\n            stroke=\"black\"\r\n            x1={xScale(0)}\r\n            y1={yScale(0)}\r\n            x2={xScale(5.52)}\r\n            y2={yScale(d.Wp)}\r\n            />\r\n        )\r\n    )\r\n)\r\n}","export const OuterRegion = ({data,innerHeight,xScale,yScale,graphWidth}) => (\r\n    <>\r\n                <text\r\n                    fontWeight=\"800\"\r\n                    textAnchor=\"middle\"\r\n                    transform={`translate(${xScale(5.52*2/3)},${innerHeight * 7/8})`}\r\n                >\r\n                    {\"Unreasonable\"}\r\n                </text>\r\n                <text\r\n                    fontWeight=\"700\"\r\n                    textAnchor=\"middle\"\r\n                    transform={`translate(${xScale(5.52*2/3)},${innerHeight * 15/16})`}\r\n                    fontSize={graphWidth>525 ?\"16px\":\"11px\"}\r\n                >\r\n                    {\"(PV-efficiency too low)\"}\r\n                </text>\r\n                <polygon \r\n                stroke=\"none\"\r\n                points={`${xScale(0)},${yScale(0)} ${xScale(5.52)},${yScale(data[0].Wp)} ${xScale(5.52)},${yScale(0)}` }\r\n                fill=\"red\"\r\n                opacity=\"0.2\"\r\n                />\r\n                <text\r\n                    fontWeight=\"800\"\r\n                    textAnchor=\"middle\"\r\n                    transform={`translate(${xScale(5.52/3)},${innerHeight/3})`}\r\n                >\r\n                    {\"Unrealistic\"}\r\n                </text>\r\n                <text\r\n                    fontWeight=\"700\"\r\n                    textAnchor=\"middle\"\r\n                    transform={`translate(${xScale(5.52/3)},${innerHeight* 7/18})`}\r\n                    fontSize={graphWidth>525 ?\"16px\":\"11px\"}\r\n                >\r\n                    {\"(PV-efficiency too high)\"}\r\n                </text>\r\n                <polygon \r\n                stroke=\"none\"\r\n                points={`${xScale(0)},${yScale(0)} ${xScale(0)},${yScale(data[4].Wp)} ${xScale(5.52)},${yScale(data[4].Wp)}` }\r\n                fill=\"red\"\r\n                opacity=\"0.2\"\r\n                />\r\n    </>\r\n)","import { \r\n    Tooltip,\r\n} from \"@chakra-ui/react\"\r\n\r\nimport {AiFillCar }from 'react-icons/ai'\r\nexport const Points = ({cars, xScale, yScale, studyCase, margin, offset}) => {\r\n    \r\n    return cars.map(d => (\r\n    <g\r\n        transform={`translate(${xScale(d.Equiv_PV_cell_area_m2)},${yScale(d.PV_nominal_power_Wp)})`} \r\n    >\r\n    <Tooltip hasArrow textAlign=\"center\" label={d.Automaker_Model} closeDelay={1000}>\r\n    <circle \r\n        key={d.Automaker_Model}\r\n        className = \"point\"\r\n        size={15}\r\n        r = {5}\r\n        fill = {\"#38B2AC\"}\r\n        \r\n    />\r\n    </Tooltip>\r\n\r\n    </g>\r\n    ))\r\n}\r\n","\r\nexport const LineTags = ({\r\n    data, \r\n    xScale, \r\n    yScale, \r\n}) =>{\r\nreturn (\r\ndata.map(d => (\r\n            <text\r\n                x={xScale(5.52)+5}\r\n                y={yScale(d.Wp)+5}\r\n                opacity={0.5}\r\n                textAnchor=\"center\"\r\n            >{d.n_cell}</text>\r\n        )\r\n    )\r\n)\r\n}","import { Tooltip } from '@chakra-ui/react';\r\nimport { scaleLinear} from 'd3';\r\nimport {FaCrosshairs} from 'react-icons/fa'\r\nimport { AxisBottom } from \"./AxisBottom\";\r\nimport {AxisLeft} from './AxisLeft'\r\nimport {Line} from './line'\r\nimport { OuterRegion } from './outerregion';\r\nimport {Points} from './points'\r\nimport { LineTags } from './lineTags';\r\n\r\n\r\n\r\n\r\nexport const Linechart = (\r\n    {studyCase,\r\n    setStudyCase,\r\n    graphWidth,\r\n    casePosition,\r\n    setCasePosition,\r\n    }\r\n    ) => {\r\n\r\n    \r\n    const height = 500; \r\n    //document.body.clientHeight;\r\n    const margin = {top: 50, bottom: 100, left: 100, right: 100}\r\n    const width= graphWidth; \r\n    const xAxisLabelOffset = 45;\r\n    const yAxisLabelOffset = 65;\r\n    const innerHeight = height - margin.top - margin.bottom\r\n    const innerWidth = width - margin.left -margin.right\r\n    const data = [\r\n        {n_cell:'15%' ,Wp:828},\r\n        {n_cell:'20%' ,Wp:1104},\r\n        {n_cell:'25%' ,Wp:1380},\r\n        {n_cell:'30%' ,Wp:1656},\r\n        {n_cell:'35%' ,Wp:1932}\r\n    ]\r\n\r\n    const cars = [\r\n        {Automaker_Model:'Toyota Prius 2009',PV_nominal_power_Wp: 56, PV_cell_eff:\t16.5, Equiv_PV_cell_area_m2:\t0.339393939},\r\n        {Automaker_Model:'Toyota Prius 2017',PV_nominal_power_Wp: 180, PV_cell_eff:\t22.5, Equiv_PV_cell_area_m2:\t0.8},\r\n        {Automaker_Model:'Toyota Prius 2019',PV_nominal_power_Wp: 860, PV_cell_eff:\t34.9, Equiv_PV_cell_area_m2:\t2.464183381},\r\n        {Automaker_Model:'Lightyear One 2019',PV_nominal_power_Wp: 1000, PV_cell_eff:\t22, Equiv_PV_cell_area_m2:\t4.545454545},\r\n        {Automaker_Model:'Sonomotors Sion 2019',PV_nominal_power_Wp: 1204, PV_cell_eff:\t24, Equiv_PV_cell_area_m2:\t5.016666667}\r\n    ]\r\n\r\n   \r\n\r\n    const title = ''\r\n\r\n    const xValue =[0,5.52]\r\n    const yAxisLabel = 'PV  Array Nominal Power [Wp]';\r\n\r\n    const yValue = d=> d.Wp\r\n    const xAxisLabel = 'Total PV Cell Area [m]';\r\n\r\n\r\n    const xScale = scaleLinear()\r\n        .domain(xValue)\r\n        .range([0,innerWidth])\r\n\r\n\r\n    const yScale = scaleLinear()\r\n        .domain([0,1932])\r\n        .range([innerHeight,0])\r\n\r\n    const handleMouseClick = event => {\r\n        const {clientX, clientY} = event\r\n        const absol = document.getElementById('lineBack').getBoundingClientRect()\r\n        setCasePosition({x: (clientX - absol.x)/innerWidth, y: clientY-absol.y})\r\n        setStudyCase([xScale.invert(clientX - absol.x), yScale.invert(clientY-absol.y)])  \r\n    }\r\n\r\n    return (\r\n        <>\r\n        <svg className=\"linechart\" height={height} width={width}>\r\n            <g className=\"linechart\" transform ={`translate(${margin.left},${margin.top})`} fontSize=\"1em\">\r\n                \r\n                <AxisBottom xScale={xScale} innerHeight={innerHeight} tickOffset={7}/>\r\n                <text\r\n                    className=\"axis-label\"\r\n                    x={innerWidth / 2}\r\n                    y={innerHeight + xAxisLabelOffset}\r\n                    textAnchor=\"middle\"\r\n                    >\r\n                    {xAxisLabel}\r\n                </text>\r\n                <AxisLeft yScale={yScale} innerWidth={innerWidth}/>\r\n                <text\r\n                    className=\"axis-label\"\r\n                    textAnchor=\"middle\"\r\n                    transform={`translate(${-yAxisLabelOffset},${innerHeight /\r\n                        2}) rotate(-90)`}\r\n                    >\r\n                    {yAxisLabel}\r\n                </text>\r\n                <text\r\n                    className=\"title\"\r\n                    textAnchor=\"middle\"\r\n                    transform={`translate(${innerWidth/2},${-margin.top/3})`}\r\n                    >\r\n                    {title}\r\n                </text>\r\n\r\n                <path\r\n                className=\"xydomain\"\r\n                fill={'none'} \r\n                d={`M0,0V${innerHeight} H${innerWidth}`}\r\n                stroke ={\"black\"}\r\n                />\r\n\r\n                <LineTags\r\n                    data= {data}\r\n                    xScale= {xScale} \r\n                    yScale= {yScale} \r\n                />\r\n                <g  className={\"clickable\"} onClick={d => handleMouseClick(d)}>\r\n                <rect id=\"lineBack\" width={innerWidth} height={innerHeight} fill='rgba(235, 238, 238, 0.5)' />\r\n                <Line\r\n                    data= {data}\r\n                    xScale= {xScale} \r\n                    yScale= {yScale} \r\n                />\r\n                <OuterRegion \r\n                    data={data} \r\n                    innerHeight={innerHeight} \r\n                    xScale={xScale} \r\n                    yScale={yScale}\r\n                    graphWidth={graphWidth}\r\n                    />\r\n                <Points\r\n                    cars= {cars}\r\n                    xScale= {xScale} \r\n                    yScale= {yScale} \r\n                    studyCase = {studyCase}\r\n                    margin={margin}\r\n                    offset={[xAxisLabelOffset,yAxisLabelOffset]}\r\n                />\r\n                {/* <Tooltip label={\"Custom Case\"} hasArrow textAlign=\"center\">\r\n                <g> */}\r\n                <FaCrosshairs\r\n                        x = {-14.5+ casePosition.x*innerWidth}\r\n                        y = {-15+ casePosition.y }\r\n                        size = {\"30px\"}\r\n                        fill = {\"#2B6CB0\"}\r\n                        text-align = {\"centre\"}\r\n                    />\r\n                {/* <circle\r\n                    cx = {casePosition.x*innerWidth}\r\n                    cy = {casePosition.y }\r\n                    r = {15}\r\n                    fill = {\"white\"}\r\n                    opacity={0}\r\n                    stroke={\"none\"}\r\n                />\r\n                </g>\r\n                </Tooltip> */}\r\n                </g>\r\n            </g>\r\n        </svg>\r\n        \r\n        </>\r\n    )\r\n}\r\n","import { Flex,Box,Heading,Text,Icon,Tooltip } from \"@chakra-ui/react\"\r\nimport {AiOutlineInfoCircle} from \"react-icons/ai\"\r\nimport {Linechart} from './Np_vs_Area/lineReact'\r\nimport { useState } from \"react\"\r\nimport {FaCrosshairs} from 'react-icons/fa'\r\nexport const StudyCaseComp = ({\r\n  graphWidth,\r\n}) =>{\r\n  const [casePosition, setCasePosition] = useState({x: 300/graphWidth, y: 210})\r\n  const [studyCase, setStudyCase] = useState([3.37645968489342,772.8000000000001])\r\n  return (\r\n    <Flex className=\"row\" height=\"500px\"  marginInline=\"10px\">\r\n        <Flex className=\"column\" width=\"40%\">\r\n          <Flex \r\n            borderWidth=\"0px\" \r\n            direction=\"column\" \r\n            width=\"100%\"\r\n            height=\"90%\" \r\n            alignItems=\"left\" \r\n            justifyContent=\"center\"\r\n            background=\"#fffff\"\r\n            padding=\"5%\"\r\n            >\r\n            <Heading className=\"sectionHeading\" borderTop=\"none\" fontSize=\"1.4rem\">Visualisation of Current EVs </Heading>\r\n            <Text mline={'5%'} marginBlock=\"2%\">There are currently multiple PV-on-EV vehicles on the market currently, but it is difficult to compare them to what is required to meet future goals.\r\n             The graph on the right is plotted with a few different car models shown by the teals points, you can hover over them to see the details. You can also click anywhere on the chart and create a custom\r\n             specification for a car, represented by <Icon as={FaCrosshairs} fill = {\"#2B6CB0\"} paddingBottom=\"1px\" fontSize={20} text-align = {\"centre\"}/>.</Text>\r\n            <Text mline={'5%'} marginBlock=\"2%\">The lines represent the PV-cell efficiency required to achieve these stats, with the currently feasible ones shown.</Text>\r\n            <br/>\r\n            <Heading background=\"white\"//\"#003e74\" \r\n            color=\"white\" height=\"50px\" paddingTop=\"10px\" borderTopRadius=\"none\" fontWeight=\"bold\" marginInline={\"auto\"} fontSize=\"1.1rem\" width=\"300px\"  textAlign=\"center\"> Custom Case:</Heading>\r\n            <Flex \r\n              background=\"rgba(0, 62, 116,0.9)\"\r\n              color=\"white\"\r\n              alignSelf=\"center\" \r\n              fontWeight=\"bold\" \r\n              width=\"100%\" \r\n              height=\"30px\" \r\n              paddingBlock=\"30px\" \r\n              borderBottomWidth=\"1px\"\r\n              borderBottomRadius=\"none\"\r\n              borderLeftWidth=  \"1px\"\r\n              borderLeftColor = \"grey.100\"\r\n              borderRightWidth=  \"1px\"\r\n              borderRightColor = \"grey.100\"\r\n              borderBottomColor = \"grey.100\"//\"#003e74\"\r\n              display=\"flex\" \r\n              direction=\"row\" \r\n              justifyContent=\"center\" \r\n              alignItems=\"center\">\r\n            <Text paddingInline=\"20px\">{`PV Nominal Power: ${studyCase[1].toFixed(2)} Wp`}  </Text> \r\n            <Text paddingInline=\"20px\">{` Total Cell-Area: ${studyCase[0].toFixed(2)} m`}</Text>\r\n            <Tooltip hasArrow  textAlign=\"top\" padding=\"10px\" borderRadius='7px' label={\"Nominal power refers to the power output of the EV with PV, and the cell-area refers to the area of the car covered by PV cells. These variables are used are calculated from the variables above.\"}>\r\n            <span>\r\n            <Icon as={AiOutlineInfoCircle} paddingBottom=\"1px\" marginInline=\"5px\" _hover={{opacity:0.3}}/> \r\n            </span>\r\n            </Tooltip>\r\n            </Flex>\r\n          </Flex>\r\n        </Flex>\r\n      <Flex className=\"column\" width=\"60%\">\r\n        <Flex \r\n          borderWidth=\"0px\" \r\n          direction=\"column\" \r\n          width=\"100%\"\r\n          height=\"90%\" \r\n          alignItems=\"center\" \r\n          justifyContent=\"center\"\r\n          background=\"white\"\r\n          >\r\n            <Box flex=\"1\" height=\"100%\" >\r\n              <Linechart\r\n                studyCase={studyCase}\r\n                setStudyCase={setStudyCase}\r\n                graphWidth = {graphWidth}\r\n                setCasePosition={setCasePosition}\r\n                casePosition={casePosition}\r\n              />\r\n            </Box>\r\n          </Flex>\r\n        </Flex>\r\n      </Flex>\r\n)}","import {\r\n    ListItem,\r\n    List,\r\n    Flex,\r\n    Link,\r\n    Center,\r\n    useDisclosure,\r\n    IconButton,\r\n    Box,\r\n    Stack,\r\n} from '@chakra-ui/react'\r\nimport { HamburgerIcon, CloseIcon } from '@chakra-ui/icons';\r\nexport const Navbar = ({\r\n    sections\r\n}) => {\r\n    const { isOpen, onOpen, onClose } = useDisclosure();\r\n    return(\r\n    <>\r\n    <Flex className=\"nav\" height=\"50px\" id=\"navshadow\">        \r\n    <Flex alignItems={'center'} justifyContent={'space-between'}>\r\n        <IconButton\r\n            height=\"40px\"\r\n            color=\"white\"\r\n            background=\"none\"\r\n            borderRadius=\"4px\"\r\n            className=\"navText\"\r\n            marginInline=\"5px\"\r\n            size={'lg'}\r\n            icon={isOpen ? <CloseIcon /> : <HamburgerIcon />}\r\n            aria-label={'Open Menu'}\r\n            display={{ lg: 'none' }}\r\n            onClick={isOpen ? onClose : onOpen}\r\n        />\r\n    </Flex>\r\n        <List>      \r\n                    <ListItem\r\n                            textAlign={\"center\"}\r\n                            float={{base: \"none\", lg:\"left\" }}\r\n                            key={\"home\"}\r\n                        >\r\n                        <Center \r\n                        h=\"50px\"\r\n                        >\r\n                        <Link\r\n                            height=\"40px\"\r\n                            width=\"100%\"\r\n                            className=\"navText\"\r\n                            href ={\"#Home\"}\r\n                            borderRadius=\"4px\"\r\n                            paddingBlock=\"5px\"\r\n                            paddingInline=\"50px\"\r\n                            fontSize=\"1.2rem\"\r\n                            fontWeight=\"bold\"\r\n                            marginInline=\"5px\"\r\n                            color=\"white\"\r\n                            backgroundColor=\"none\"\r\n                            display= \"inline-block\"\r\n                            style={{ textDecoration: 'none' }}\r\n                            >\r\n                                {\"Home\"}\r\n                            </Link>\r\n                            </Center>\r\n                        </ListItem>\r\n            <List display={{ base: 'none', lg: 'contents' }}>\r\n            {sections.map( d => (\r\n                // <Flex float=\"left\" height=\"100%\">\r\n                        <ListItem\r\n                            float=\"left\"\r\n                            key={d}\r\n                        >\r\n                        <Center \r\n                        h=\"50px\"\r\n                        >\r\n                        <Link\r\n                            height=\"40px\"\r\n                            width=\"100%\"\r\n                            className=\"navText\"\r\n                            href ={\"#\"+d}\r\n                            borderRadius=\"4px\"\r\n                            paddingBlock=\"5px\"\r\n                            paddingInline=\"50px\"\r\n                            fontSize=\"1.2rem\"\r\n                            fontWeight=\"bold\"\r\n                            marginInline=\"5px\"\r\n                            color=\"white\"\r\n                            backgroundColor=\"none\"\r\n                            display= \"inline-block\"\r\n                            style={{ textDecoration: 'none' }}\r\n\r\n                            >\r\n                                {d}\r\n                            </Link>\r\n                            </Center>\r\n                        </ListItem>\r\n               \r\n            ))} </List>\r\n        </List>\r\n        \r\n    </Flex>\r\n    {isOpen ? (\r\n          <Box pb={4} display={{lg:\"none\"}} >\r\n            <Stack background={\"#003E74\"} className=\"nav\" marginTop={50} spacing={\"5px\"}>\r\n            {sections.map( d => (\r\n                    <Center \r\n                        h=\"50px\"\r\n                    >\r\n                        <Link\r\n                            height=\"40px\"\r\n                            width=\"100%\"\r\n                            className=\"navText\"\r\n                            href ={\"#\"+d}\r\n                            borderRadius=\"4px\"\r\n                            paddingBlock=\"5px\"\r\n                            paddingInline=\"108px\"\r\n                            fontSize=\"1.2rem\"\r\n                            fontWeight=\"bold\"\r\n                            marginInline=\"5px\"\r\n                            color=\"white\"\r\n                            display= \"inline-block\"\r\n                            style={{ textDecoration: 'none' }}\r\n                            >\r\n                                {d}\r\n                            </Link>\r\n                    </Center>\r\n            ))}\r\n            </Stack>\r\n          </Box>\r\n        ) : null}\r\n        </>\r\n    )\r\n        }","import React from 'react';\r\nimport {Select,Flex,Center,Tooltip,Icon} from \"@chakra-ui/react\" \r\nimport { AiOutlineInfoCircle } from 'react-icons/ai';\r\nexport const Dropdown = ({ \r\n  options, \r\n  id, \r\n  selectedValue, \r\n  onSelectedValueChange, \r\n  label,\r\n  width,\r\n  tooltip,\r\n  }) => (\r\n<Flex width={width}>\r\n<Center w=\"100%\">\r\n    <label width=\"25%\" display=\"flex\" flex-direction=\"row\"> {label}</label>\r\n    <Center paddingTop=\"0px\">\r\n            <Tooltip hasArrow textAlign=\"top\" label={tooltip} padding=\"10px\" borderRadius='7px'>\r\n            <Center w=\"20px\" h=\"20px\" verticalAlign=\"middle\">\r\n            <Icon as={AiOutlineInfoCircle} marginInline=\"5px\" _hover={{opacity:0.3}}/> \r\n            </Center>\r\n            </Tooltip>\r\n            </Center>\r\n  <Select bg=\"white\"  mline=\"2\" width={\"60%\"} id={id} defaultValue={selectedValue} onChange={event => onSelectedValueChange(event.target.value)}>\r\n    \r\n    {options.map( d => (\r\n\r\n      <option value={d} key={d}>\r\n        {d}\r\n      </option>\r\n\r\n    ))}\r\n\r\n  </Select>\r\n  </Center>\r\n</Flex>\r\n);","import { selection } from \"d3\";\r\nimport {\r\n    select,\r\n    scaleBand,\r\n    scaleLinear,\r\n    axisBottom,\r\n    axisLeft,\r\n    max,\r\n    scaleOrdinal,\r\n    format,\r\n} from \"d3\";\r\n\r\n\r\n\r\nimport React, { useRef, useEffect } from \"react\";\r\n\r\n\r\n\r\nexport const BarChart = ({\r\n    graphWidth,\r\n    dataOriginal,  \r\n    onClickValue,\r\n    xAxisTitle,\r\n    yAxisTitle,\r\n    Title,\r\n    xValue,\r\n    yValue,\r\n    xTitleOffset,\r\n    yTitleOffset,\r\n    titleOffset,\r\n    colorTheme,\r\n    country,\r\n    toolTipText,\r\n    formatNumber,\r\n    height,\r\n    dataLength,\r\n    chartColour,\r\n    axisSize,\r\n    margin,\r\n}) => {\r\n  const duration = 1000;\r\n  const width= graphWidth; \r\n  const data = dataOriginal.filter(d => onClickValue.includes(country(d)))\r\n  const innerWidth = width - margin.left - margin.right;\r\n  const innerHeight = height - margin.top - margin.bottom;\r\n  const ref = useRef();\r\n  xTitleOffset += -15\r\n\r\n  let length;\r\n  if (data.length > 0) \r\n    length = data.length\r\n  else length = dataLength\r\n  \r\n  \r\n  useEffect(() => {\r\n    draw();\r\n  }, [data]); \r\n\r\n  const draw = () => {\r\n    \r\n    const xScale = scaleBand()\r\n      .domain(data.map(xValue))\r\n      .range([0, innerWidth])\r\n      .padding(0.2)\r\n\r\n    const bandwidth =  xScale.bandwidth()\r\n    const yScale = scaleLinear()\r\n      .domain([0, max(data, yValue)])\r\n      .range([innerHeight, 0])\r\n      .nice();\r\n\r\n    const xAxis = axisBottom().scale(xScale).tickSize(0);\r\n\r\n    const yAxis = axisLeft().scale(yScale).tickSizeInner(-innerWidth).tickSizeOuter(0).tickFormat(format(\"d\"));;\r\n    const colorScale = scaleOrdinal(colorTheme);\r\n    const tagBar = d => {\r\n      const name = [\"United Kingdom\", \"United States of America\"].includes(d.region) ?d.abbrev : d.region\r\n      if(name.length*Math.log(bandwidth)*5.6*0.7> innerHeight-yScale(yValue(d))){\r\n        return true\r\n      }\r\n      else return false\r\n    }\r\n    const svg = select(ref.current);\r\n    const chart = svg.select(\"g\");\r\n\r\n    const tooltip = select('.tooltip')\r\n    .style('position', 'absolute')\r\n    .style('z-index', '10')\r\n    .style('visibility', 'hidden')\r\n    .style('padding', '10px')\r\n    .style('background', 'rgba(0,0,0,0.6)')\r\n    .style('border-radius', '4px')\r\n    .style('color', '#fff')\r\n    .text('a simple tooltip');\r\n\r\n    chart//background\r\n      .selectAll(\".background\")\r\n      .data([null])\r\n      .join('rect')\r\n      .classed('background',true)\r\n      .attr('width',innerWidth)\r\n      .attr('height',innerHeight)\r\n      .style('fill',chartColour)\r\n\r\n    const xAxisGroup = chart.selectAll(\".xAxisGroup\").data([null]).join(\"g\").classed(\"xAxisGroup\",true)\r\n    const yAxisGroup = chart.selectAll(\".yAxisGroup\").data([null]).join(\"g\").classed(\"yAxisGroup\",true)\r\n\r\n\r\n    xAxisGroup//x-axis\r\n      .selectAll(\".x-axis\")\r\n      .data([null])\r\n      .join(\"g\")\r\n      .classed(\"x-axis\", true)\r\n      .style(\"font-size\", \"0em\")\r\n      .attr(\"transform\", `translate(0,${innerHeight})`)\r\n      .transition()\r\n      .duration(duration)\r\n      .call(xAxis)\r\n\r\n    xAxisGroup//x-axis title\r\n      .selectAll(\".x-axis-title\")\r\n      .data([xAxisTitle])\r\n      .join(\"text\")\r\n      .classed(\"x-axis-title\", true)\r\n      .attr(\"x\", innerWidth / 2)\r\n      .attr(\"y\", innerHeight + xTitleOffset)\r\n      .style(\"text-anchor\", \"middle\")\r\n      .style(\"font-size\", axisSize)\r\n      .text((d) => d);\r\n\r\n\r\n    yAxisGroup//y-axis\r\n      .selectAll(\".y-axis\")\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"g\")\r\n          .style(\"font-size\", \"0.9em\")\r\n          .classed(\"y-axis\", true)\r\n          .attr(\"transform\", \"translate(0,0)\")\r\n        ,\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )\r\n      .transition()\r\n      .duration(duration)\r\n      .call(yAxis)\r\n\r\n    yAxisGroup//y-axis\r\n      .selectAll(\".xydomain\")\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n        .append(\"path\")\r\n          .classed(\"xydomain\", true),\r\n        (update)=>\r\n          update\r\n          ,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )      \r\n      .transition()\r\n      .duration(duration)\r\n      .attr('fill','none')\r\n      .attr('d',`M0,0V${innerHeight} H${innerWidth}`)\r\n      .attr('stroke',\"black\")\r\n\r\n    yAxisGroup//y-axis title\r\n      .selectAll(\".y-axis-title\")\r\n      .data([yAxisTitle])\r\n      .join(\"text\")\r\n      .classed(\"y-axis-title\", true)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", yTitleOffset)\r\n      .style(\"font-size\", axisSize)\r\n      .attr(\"transform\", `translate(${yTitleOffset}, ${innerHeight / 2}) rotate(-90)`)\r\n      //.attr(\"fill\", \"#000\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text((d) => d);\r\n\r\n    chart //chart title\r\n        .selectAll(\".chart-title\")\r\n        .data([Title])\r\n        .join(\"text\")\r\n        .classed(\"chart-title\",true)\r\n        .attr(\"x\", innerWidth / 2)\r\n        .attr('y',titleOffset)\r\n        .attr(\"fill\", \"#000\")\r\n        .style(\"font-size\", \"14px\")\r\n        .style(\"text-anchor\", \"middle\")\r\n        .text((d) => d);\r\n\r\n    yAxisGroup.select('.tick').select('line').attr('opacity','0.1')\r\n\r\n    \r\n    chart//bars\r\n      .selectAll(\".bar\")\r\n      .data(data)\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"rect\")\r\n          .classed(\"bar\", true)\r\n          .attr(\"y\", (d) => yScale(0))\r\n          .attr(\"height\", 0),\r\n          (update) =>\r\n          update,\r\n        (exit) =>{\r\n        exit\r\n        .transition()\r\n        .duration(duration)\r\n        .delay((d, i) => ((length - i) * duration) / length)\r\n        .attr(\"height\", 0)\r\n        .attr(\"y\", innerHeight)\r\n        .remove()}\r\n      )\r\n      .attr(\"x\", (d) => xScale(xValue(d)))\r\n      .style(\"fill\", (d, i) => colorScale(i))\r\n      .attr(\"width\", (d) => bandwidth)\r\n      .on('mouseover',  (d, i) => {\r\n        const temp = d.target.__data__\r\n        tooltip\r\n          .html(\r\n            `<div> ${country(temp)}:</div><div>${toolTipText + yValue(temp).toFixed(2)}  ${formatNumber}</div>`\r\n          )\r\n          .style('visibility', 'visible');\r\n        select(this).transition().attr('fill', \"#eec42d\");\r\n        })\r\n        .on('mousemove', function (d) {\r\n            tooltip\r\n            .style('top', d.pageY -110 + 'px')\r\n            .style('left', d.pageX +30+ 'px');\r\n        })\r\n        .on('mouseout', function () {\r\n            tooltip.html(``).style('visibility', 'hidden');\r\n            select(this).transition().attr('fill', '#437c90');\r\n        })\r\n      .transition()\r\n      .duration(duration)\r\n      .delay((d, i) => (i * duration) / length)\r\n      .attr(\"height\", (d) => innerHeight - yScale(yValue(d)))\r\n      .attr(\"y\", (d) => yScale(yValue(d)));\r\n      \r\n\r\n    \r\n    chart\r\n      .selectAll(\".tags\")\r\n      .data(data)\r\n      .join((enter) =>\r\n      enter\r\n        .append(\"text\")\r\n          .classed(\"tags\",true)\r\n          .attr(\"transform\",`rotate(-90)`)\r\n          .attr('opacity',0)\r\n          .attr(\"x\",-innerHeight),\r\n          (update) =>\r\n          update,\r\n        (exit) =>{\r\n        exit\r\n        .remove()}\r\n    )\r\n    .attr(\"font-size\",d => `${Math.log(bandwidth)*5.6}px`)\r\n    .attr(\"y\", (d) => xScale(xValue(d))+bandwidth/2+(Math.log(bandwidth)*4.60)/2.4)\r\n    .text(d => [\"United Kingdom\", \"United States of America\"].includes(d.region) ?d.abbrev : d.region)\r\n    .style(\"text-anchor\",\"left\")    \r\n    .attr('id',d => !tagBar(d)?\"whitetag\": \"blacktag\")\r\n    .attr('fill', d => tagBar(d) ?'black':'white')\r\n    .transition()\r\n    .duration(duration)\r\n    .delay((d, i) => (i * duration) / length)\r\n    .attr('opacity',1)\r\n    .attr(\"x\", d => 12-innerHeight + (tagBar(d) ?innerHeight-11-yScale(yValue(d)):0))\r\n  \r\n  }\r\n  return (\r\n    <div id=\"barchart\">\r\n        <svg className=\"chart\" width={width} height={height}  ref={ref}>\r\n            <g transform={`translate(${margin.left}, ${margin.top})`}/>\r\n        </svg>\r\n        <div className=\"tooltip\"/>\r\n    </div>\r\n  );\r\n}","import {\r\n    select,\r\n    scaleLinear,\r\n    axisBottom,\r\n    axisLeft,\r\n    max,\r\n    scaleOrdinal,\r\n\r\n} from \"d3\";\r\n\r\n\r\nimport React, { useRef, useEffect } from \"react\";\r\n\r\nexport const Scatter = ({ \r\n    graphWidth,\r\n    dataOriginal,  \r\n    onClickValue,\r\n    xAxisTitle,\r\n    yAxisTitle,\r\n    Title,\r\n    xValue,\r\n    yValue,\r\n    xTitleOffset,\r\n    yTitleOffset,\r\n    titleOffset,\r\n    colorTheme,\r\n    radius,\r\n    country,\r\n    toolTipText1,\r\n    formatNumber1,\r\n    toolTipText2,\r\n    formatNumber2,\r\n    height,\r\n    dataLength,\r\n    abbrev,\r\n    labelOn,\r\n    setLabel,\r\n    chartColour,\r\n    axisSize,\r\n    margin,\r\n}) => {\r\n  const duration = 1000;\r\n  const width= graphWidth; \r\n  const data = dataOriginal.filter(d => onClickValue.includes(country(d)))\r\n  const innerWidth = width - margin.left - margin.right;\r\n  const innerHeight = height - margin.top - margin.bottom;\r\n  const ref = useRef();\r\n\r\n  let length;\r\n  if (data.length > 0) \r\n    length = data.length\r\n  else length = dataLength\r\n\r\n\r\n  useEffect(() => {\r\n    draw();\r\n  }, [data]); \r\n\r\n  const draw = () => {\r\n    \r\n    const xScale = scaleLinear()\r\n      .domain([0, max(data, xValue)])\r\n      .range([0,innerWidth])\r\n      .nice();\r\n\r\n    const yScale = scaleLinear()\r\n      .domain([0, max(data, yValue)])\r\n      .range([innerHeight, 0])\r\n      .nice();\r\n\r\n    const xAxis = axisBottom().scale(xScale).tickSizeInner(-innerHeight).tickPadding(10);\r\n\r\n    const yAxis = axisLeft().scale(yScale).tickSizeInner(-innerWidth).tickPadding(10);\r\n\r\n    const colorScale = scaleOrdinal(colorTheme);\r\n\r\n    const svg = select(ref.current);\r\n    const chart = svg.select(\"g\");\r\n\r\n    const tooltip = select('.tooltip')\r\n        .style('position', 'absolute')\r\n        .style('z-index', '10')\r\n        .style('visibility', 'hidden')\r\n        .style('padding', '10px')\r\n        .style('background', 'rgba(0,0,0,0.6)')\r\n        .style('border-radius', '4px')\r\n        .style('color', '#fff')\r\n        .text('a simple tooltip');\r\n\r\n    chart//background\r\n      .selectAll(\".background\")\r\n      .data([null])\r\n      .join('rect')\r\n      .classed('background',true)\r\n      .attr('width',innerWidth)\r\n      .attr('height',innerHeight)\r\n      .style('fill',chartColour)\r\n\r\n    const xAxisGroup = chart.selectAll(\".xAxisGroup\").data([null]).join(\"g\").classed(\"xAxisGroup\",true)\r\n    const yAxisGroup = chart.selectAll(\".yAxisGroup\").data([null]).join(\"g\").classed(\"yAxisGroup\",true)\r\n  \r\n    xAxisGroup//y-axis\r\n      .selectAll(\".x-axis\")\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"g\")\r\n          .style(\"font-size\", \"0.9em\")\r\n          .classed(\"x-axis\", true)\r\n          .attr(\"transform\", `translate(0,${innerHeight})`),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )\r\n      .transition()\r\n      .duration(duration)\r\n      .call(xAxis);\r\n\r\n    \r\n\r\n    xAxisGroup//x-axis title\r\n      .selectAll(\".x-axis-title\")\r\n      .data([xAxisTitle])\r\n      .join(\"text\")\r\n      .classed(\"x-axis-title\", true)\r\n      .attr(\"x\", innerWidth / 2)\r\n      .attr(\"y\", innerHeight + xTitleOffset)\r\n      .style(\"font-size\", axisSize)\r\n      .attr(\"fill\", \"black\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text((d) => d);\r\n\r\n    \r\n    yAxisGroup//y-axis\r\n    .selectAll(\".y-axis\")\r\n    .data([null])\r\n    .join((enter) =>\r\n      enter\r\n        .append(\"g\")\r\n        .style(\"font-size\", \"0.9em\")\r\n        .classed(\"y-axis\", true)\r\n        .attr(\"transform\", \"translate(0,0)\"),\r\n      (update) =>\r\n        update,\r\n        (exit) => \r\n        exit\r\n        .transition()\r\n        .duration(duration)\r\n        .remove()\r\n    )\r\n    .transition()\r\n    .duration(duration)\r\n    .call(yAxis);\r\n    \r\n    yAxisGroup//y-axis title\r\n      .selectAll(\".y-axis-title\")\r\n      .data([yAxisTitle])\r\n      .join(\"text\")\r\n      .classed(\"y-axis-title\", true)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", yTitleOffset)\r\n      .attr(\"opacity\",1)\r\n      .style(\"font-size\", axisSize)\r\n      .attr(\"transform\", `translate(${yTitleOffset}, ${innerHeight / 2}) rotate(-90)`)\r\n      .attr(\"fill\", \"#000\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text((d) => d);\r\n      \r\n  yAxisGroup//y-axis\r\n      .selectAll(\".xydomain\")\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"path\")\r\n          .classed(\"xydomain\", true),\r\n        (update)=>\r\n          update\r\n          ,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )      \r\n      .transition()\r\n      .duration(duration)\r\n      .attr('fill','none')\r\n      .attr('d',`M0,0V${innerHeight} H${innerWidth}`)\r\n      .attr('stroke',\"black\")\r\n\r\n    chart //chart title\r\n        .selectAll(\".chart-title\")\r\n        .data([Title])\r\n        .join(\"text\")\r\n        .classed(\"chart-title\",true)\r\n        .attr(\"x\", innerWidth / 2)\r\n        .attr('y',titleOffset)\r\n        .attr(\"fill\", \"#000\")\r\n        .style(\"font-size\", \"14px\")\r\n        .style(\"text-anchor\", \"middle\")\r\n        .text((d) => d);\r\n\r\n    \r\n    chart//points\r\n      .selectAll(\".textmark\")\r\n      .data(data)\r\n      .join((enter) =>\r\n        enter\r\n        .append('text')\r\n        .attr(\"y\", d => yScale(yValue(d)) - 10)\r\n        .attr(\"x\", d => xScale(xValue(d)))\r\n        .classed(\"textmark\",true)\r\n        .attr('opacity',0)\r\n        .style(\"text-anchor\", \"middle\"),\r\n      (update) =>\r\n          update,\r\n      (exit) => \r\n        exit\r\n          .transition()\r\n          .duration(duration)\r\n          .delay((d, i) => ((length - i) * duration) / length)\r\n          .attr('opacity',0)\r\n          .remove())\r\n      .transition()\r\n      .duration(duration)\r\n      .delay((d, i) => (i * duration) / length)\r\n      .text(d => abbrev(d))\r\n      .attr('opacity',labelOn ?1 :0)\r\n      .attr(\"y\", d => yScale(yValue(d)) - 10)\r\n      .attr(\"x\", d => xScale(xValue(d)))\r\n\r\n\r\n    chart//points\r\n      .selectAll('.mark')\r\n      .data(data)\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"circle\")\r\n          .classed(\"mark\", true)\r\n          .attr(\"cy\", d => yScale(0))\r\n          .attr(\"cx\", d => xScale(0))\r\n          .attr('r',0),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .delay((d, i) => ((length - i) * duration) / length)\r\n          .attr('r',0)\r\n          .remove()\r\n      )\r\n      .style(\"fill\", (d, i) => colorScale(i))\r\n      .on('mouseover',  (d, i) => {\r\n        const temp = d.target.__data__\r\n        tooltip\r\n          .html(\r\n            `<div>${country(temp)}:</div><div>${toolTipText1 + xValue(temp).toFixed(2)} ${formatNumber1}</div><div>${toolTipText2 + yValue(temp).toFixed(2)} ${formatNumber2}</div>`\r\n          )\r\n          .style('visibility', 'visible');\r\n        select(this).transition().attr('fill', \"#eec42d\");\r\n        })\r\n        .on('mousemove', function (d) {\r\n            tooltip\r\n            .style('top', d.pageY -10 + 'px')\r\n            .style('left', d.pageX +10 + 'px');\r\n        })\r\n        .on('mouseout', function () {\r\n            tooltip.html(``).style('visibility', 'hidden');\r\n            select(this).transition().attr('fill', '#437c90');\r\n        })\r\n      .transition()\r\n      .duration(duration)\r\n      .delay((d, i) => (i * duration) / length)\r\n      .attr(\"cy\", (d) => yScale(yValue(d)))\r\n      .attr(\"cx\", (d) => xScale(xValue(d)))\r\n      .attr('r', radius)\r\n\r\n    const labelsetter = chart\r\n      .selectAll('.labelset')\r\n      .data([null])\r\n      .join((enter) => {\r\n        let g = enter.append(\"g\")\r\n        .classed(\"labelset\", true)\r\n        .attr('transform',`translate(20,40)`)\r\n        .style('cursor','pointer')\r\n\r\n        g.append('rect')\r\n        .attr('width',120)\r\n        .attr('rx', 5)\r\n        .attr('height',30)\r\n        .attr('y',-20)\r\n        //.style('stroke',\"black\")\r\n        .attr('opacity','0.65')\r\n\r\n        g.append('text')\r\n        .attr('x',20)\r\n        .style('text-align',\"centre\")\r\n        return g},\r\n      (update) => \r\n      update,\r\n      (exit) =>{\r\n      exit\r\n      .transition()\r\n      .duration(duration)\r\n      .remove()}\r\n      )\r\n      .on('click', () => {\r\n      if (labelOn){\r\n        setLabel(false)}\r\n      else setLabel(true)\r\n      })\r\n\r\n    labelsetter.selectAll('text')\r\n      .text(labelOn?'Labels On':'Labels Off')\r\n      .style('fill', labelOn? 'black' : 'white')\r\n    labelsetter.select('rect')\r\n      .style('fill', labelOn? 'white' : 'black')\r\n      \r\n  };\r\n\r\n  return (\r\n    <div id=\"barchart\">\r\n        <svg className=\"chart\" width={width} height={height}  ref={ref}>\r\n            <g transform={`translate(${margin.left}, ${margin.top})`}/>\r\n        </svg>\r\n        <div className=\"tooltip\"/>\r\n    </div>\r\n  );\r\n}","\r\nexport const ColourLegend = ({\r\n    colorScale,\r\n    selection,\r\n    duration,\r\n    position,\r\n    data,\r\n    radius,\r\n    legHov,\r\n    onLegHov,\r\n    legClick,\r\n    onLegClick,\r\n    prevData,\r\n  }) => {\r\n    const legend  = selection.selectAll('.legend')\r\n        .data([null])\r\n        .join((enter) => {\r\n          let g = enter.append('g')\r\n        .classed('legend',true)\r\n        .attr(\"transform\", `translate${position}`)\r\n        .style('z-index', '10')\r\n        \r\n        g.append('rect')\r\n        .attr('x', -radius * 2)\r\n        .attr('y', -radius * 2)\r\n        .attr('rx', 5)\r\n        .attr('width',160)\r\n        .attr('height',radius*8)\r\n        .style('fill','#f8f8ff')\r\n        .attr('opacity',0.9)\r\n        \r\n        return g\r\n        },\r\n        (update) =>\r\n        update,\r\n      (exit) =>{\r\n      exit\r\n      .transition()\r\n      .duration(duration)\r\n      .remove()}\r\n    )\r\n\r\n    if (data[0] !== prevData) { \r\n        legend.selectAll('.leg').remove()}\r\n\r\n    legend\r\n    .selectAll(\".leg\")\r\n    .data(data)\r\n    .join((enter) => {\r\n       let g = enter.append(\"g\")\r\n        .classed(\"leg\", true)\r\n        .attr('transform',(d,i)=> `translate(0,${i*radius*4})`)\r\n\r\n        g.append('rect')\r\n        .attr('x', -radius * 2)\r\n        .attr('y', -radius * 2)\r\n        .attr('width', 160)\r\n        .attr('height', radius*4)\r\n        .style('fill','#fff')\r\n        .attr('opacity',0.1)\r\n\r\n        g.append(\"circle\")\r\n        .style(\"fill\",(d,i) => colorScale(i))\r\n        .attr(\"r\",0)\r\n\r\n        g.append('text')\r\n        .attr(\"opacity\",0)\r\n        .text(d => d)\r\n        .attr(\"transform\", `translate(${radius*2 },0)`)\r\n        .attr(\"dy\",\".32em\")\r\n        \r\n        return g\r\n        },\r\n    (update) =>\r\n        update,\r\n      (exit) =>{\r\n      exit\r\n      .transition()\r\n      .duration(duration)\r\n      .remove()}\r\n    )\r\n    .on('mouseover',  d => {\r\n        onLegHov(d.target.__data__)\r\n        })\r\n    .on('click', d => {\r\n        if (legClick !== d.target.__data__) {\r\n            onLegClick(d.target.__data__)\r\n        }\r\n        else{\r\n            onLegClick(null)\r\n        }\r\n        onLegClick(d.target.__data__)\r\n    })\r\n    .on('mouseout',\r\n        d => {\r\n            onLegHov(null)\r\n        })\r\n    .transition()\r\n    .duration(duration*0.1)\r\n    .attr('opacity', d => {\r\n        if (!legClick && !legHov)\r\n            {return 1}\r\n        else {\r\n            if (legClick === d || legHov === d)\r\n            {return 1}\r\n                else {return 0.3}}\r\n    })\r\n    legend.selectAll(\".leg\").selectAll(\"circle\")\r\n        .transition()\r\n        .duration(duration)\r\n        .attr(\"r\",radius)\r\n\r\n    legend.selectAll(\".leg\").selectAll(\"text\")\r\n        .transition()\r\n        .duration(duration)\r\n        .attr(\"opacity\",1)\r\n}","import {\r\n    select,\r\n    scaleBand,\r\n    scaleLinear,\r\n    axisBottom,\r\n    axisLeft,\r\n    min,\r\n    max,\r\n    scaleOrdinal,\r\n    selection,\r\n  format,\r\n} from \"d3\";\r\n\r\n\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport reactDom from \"react-dom\";\r\nimport { ColourLegend } from \"./colourLegend2\";\r\n\r\nselection.prototype.moveToFront = function() {\r\n  return this.each(function(){\r\n  this.parentNode.appendChild(this);\r\n  });\r\n};\r\n\r\n\r\nexport const MultibarChart = ({ \r\n    graphWidth,\r\n    dataOriginal,  \r\n    onClickValue,\r\n    xAxisTitle,\r\n    yAxisTitle,\r\n    Title,\r\n    xValue,\r\n    yValue1,\r\n    yValue2,\r\n    xTitleOffset,\r\n    yTitleOffset,\r\n    titleOffset,\r\n    colorTheme,\r\n    country,\r\n    toolTipText1,\r\n    formatNumber1,\r\n    toolTipText2,\r\n    formatNumber2,\r\n    height,\r\n    dataLength,\r\n    legHov,\r\n    onLegHov,\r\n    legClick,\r\n    onLegClick,\r\n    position,\r\n    prevData,\r\n    setPrev,\r\n    chartColour,\r\n    axisSize,\r\n    margin,\r\n}) => {\r\n  const duration = 1000;\r\n  const separation = 2;\r\n  const width= graphWidth; \r\n  const data = dataOriginal.filter(d => onClickValue.includes(country(d)))\r\n  const innerWidth = width - margin.left - margin.right;\r\n  const innerHeight = height - margin.top - margin.bottom;\r\n  const ref = useRef();\r\n\r\n  let length;\r\n  if (data.length > 0) \r\n    length = data.length\r\n  else length = dataLength\r\n\r\n\r\n  useEffect(() => {\r\n    draw()\r\n    setPrev(toolTipText1)\r\n  }, [data]); \r\n\r\n\r\n  const draw = () => {\r\n\r\n    let maxY = 1;\r\n    if (max(data, yValue1) > max(data, yValue2))\r\n       maxY = max(data,yValue1);\r\n    else  maxY = max(data,yValue2);\r\n    let minY;\r\n    if (min(data, yValue1) > min(data, yValue2))\r\n      if (0 > min(data, yValue2))\r\n          minY = min(data,yValue2);\r\n      else minY = 0;\r\n    else  if (0 > min(data, yValue1))\r\n          minY = min(data,yValue1);\r\n    else minY = 0;;\r\n\r\n\r\n    const xScale = scaleBand()\r\n      .domain(data.map(xValue))\r\n      .range([0, innerWidth])\r\n      .padding(0.2)\r\n      const bandwidth =  xScale.bandwidth()\r\n    const yScale = scaleLinear()\r\n      .domain([minY, maxY])\r\n      .range([innerHeight, 0])\r\n      .nice();\r\n\r\n    const xAxis = axisBottom().scale(xScale).tickPadding(10);\r\n\r\n    const yAxis = axisLeft().scale(yScale).tickSizeInner(-innerWidth).tickPadding(10).tickFormat(format(\"d\"));;\r\n\r\n    const colorScale = scaleOrdinal(colorTheme);\r\n\r\n    const svg = select(ref.current);\r\n    const chart = svg.select(\"g\");\r\n    \r\n    const tooltip = select('.tooltip')\r\n        .style('position', 'absolute')\r\n        .style('z-index', '10')\r\n        .style('visibility', 'hidden')\r\n        .style('padding', '10px')\r\n        .style('background', 'rgba(0,0,0,0.6)')\r\n        .style('border-radius', '4px')\r\n        .style('color', '#fff')\r\n        .text('a simple tooltip');\r\n        \r\n        chart//background\r\n        .selectAll(\".background\")\r\n        .data([null])\r\n        .join('rect')\r\n        .classed('background',true)\r\n        .attr('width',innerWidth)\r\n        .attr('height',innerHeight)\r\n        .style('fill',chartColour)\r\n        .on('click', () => {\r\n          onLegClick(null)\r\n        })\r\n  \r\n      const xAxisGroup = chart.selectAll(\".xAxisGroup\").data([null]).join(\"g\").classed(\"xAxisGroup\",true)\r\n      const yAxisGroup = chart.selectAll(\".yAxisGroup\").data([null]).join(\"g\").classed(\"yAxisGroup\",true)\r\n  \r\n      xAxisGroup//x-axis\r\n        .selectAll(\".x-axis\")\r\n        .data([null])\r\n        .join(\"g\")\r\n        .classed(\"x-axis\", true)\r\n        .style('z-index', '5')\r\n        .attr(\"transform\", `translate(0,${innerHeight})`)\r\n        .transition()\r\n        .duration(duration)\r\n        .call(xAxis)\r\n        .style(\"font-size\", d => `${Math.log(bandwidth)*2.6}px`)\r\n\r\n    xAxisGroup//x-axis title\r\n      .selectAll(\".x-axis-title\")\r\n      .data([xAxisTitle])\r\n      .join(\"text\")\r\n      .classed(\"x-axis-title\", true)\r\n      .attr(\"x\", innerWidth / 2)\r\n      .attr(\"y\", innerHeight + xTitleOffset)\r\n      .attr(\"fill\", \"black\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .style(\"font-size\", axisSize)\r\n      .text((d) => d);\r\n  \r\n      yAxisGroup//y-axis\r\n      .selectAll(\".y-axis\")\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"g\")\r\n          .style(\"font-size\", \"0.9em\")\r\n          .classed(\"y-axis\", true)\r\n          .attr(\"transform\", \"translate(0,0)\"),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )\r\n      .transition()\r\n      .duration(duration)\r\n      .call(yAxis);\r\n  \r\n  \r\n      yAxisGroup//y-axis title\r\n        .selectAll(\".y-axis-title\")\r\n        .data([yAxisTitle])\r\n        .join(\"text\")\r\n        .classed(\"y-axis-title\", true)\r\n        .attr(\"x\", 0)\r\n        .attr(\"y\", yTitleOffset)\r\n        .style(\"font-size\", axisSize)\r\n        .attr(\"transform\", `translate(${yTitleOffset}, ${innerHeight / 2}) rotate(-90)`)\r\n        .attr(\"fill\", \"#000\")\r\n        .style(\"text-anchor\", \"middle\")\r\n        .text((d) => d);\r\n  \r\n        yAxisGroup//y-axis\r\n        .selectAll(\".xydomain\")\r\n        .data([null])\r\n        .join((enter) =>\r\n          enter\r\n            .append(\"path\")\r\n            .classed(\"xydomain\", true),\r\n          (update)=>\r\n            update\r\n            ,\r\n            (exit) => \r\n            exit\r\n            .transition()\r\n            .duration(duration)\r\n            .remove()\r\n        )      \r\n        .transition()\r\n        .duration(duration)\r\n        .attr('fill','none')\r\n        .attr('d',`M0,0V${innerHeight} H${innerWidth}`)\r\n        .attr('stroke',\"black\")\r\n  \r\n      chart //chart title\r\n          .selectAll(\".chart-title\")\r\n          .data([Title])\r\n          .join(\"text\")\r\n          .classed(\"chart-title\",true)\r\n          .attr(\"x\", innerWidth / 2)\r\n          .attr('y',titleOffset)\r\n          .attr(\"fill\", \"#000\")\r\n          .style(\"font-size\", \"14px\")\r\n          .style(\"text-anchor\", \"middle\")\r\n          .text((d) => d);\r\n\r\n\r\n    const bars1 = chart//bar 1\r\n      .selectAll(\".bar1\")\r\n      .data(data)\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"rect\")\r\n          .classed(\"bar1\", true)\r\n          .attr(\"y\", (d) => yScale(0))\r\n          .attr(\"height\", 0),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n        exit\r\n          .transition()\r\n          .duration(duration)\r\n          .delay((d, i) => ((length-i) * duration) / length)\r\n          .attr(\"height\", 0)\r\n          .attr(\"y\", innerHeight)\r\n          .remove()\r\n      )\r\n      .attr(\"x\", (d) => xScale(xValue(d)))\r\n      .style(\"fill\",() => colorScale(0))\r\n      //(d, i) => colorScale(i))\r\n      .attr(\"width\", (d) => xScale.bandwidth()/2 - separation/2)\r\n      .on('mouseover',  (d, i) => {\r\n        const temp = d.target.__data__\r\n        tooltip\r\n          .html(\r\n            `<div>${country(temp)}:</div><div>${toolTipText1 + yValue1(temp).toFixed(2)} ${formatNumber1}</div>`\r\n          )\r\n          .style('visibility', 'visible');\r\n        select(this).transition().attr('fill', \"#eec42d\");\r\n        })\r\n        .on('mousemove', function (d) {\r\n            tooltip\r\n            .style('top', d.pageY -10 + 'px')\r\n            .style('left', d.pageX +10 + 'px');\r\n        })\r\n        .on('mouseout', function () {\r\n            tooltip.html(``).style('visibility', 'hidden');\r\n            select(this).transition().attr('fill', '#437c90');\r\n        })\r\n\r\n      bars1\r\n      .transition(\"bars\")\r\n      .duration(duration)\r\n      .delay((d, i) => (i * duration) / length)\r\n      .attr(\"height\", (d) => innerHeight - yScale(yValue1(d)))\r\n      .attr(\"y\", (d) => yScale(yValue1(d)));\r\n      \r\n\r\n      const bars2 = chart//bar 2\r\n      .selectAll(\".bar2\")\r\n      .data(data)\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"rect\")\r\n          .classed(\"bar2\", true)\r\n          .attr(\"y\", (d) => yScale(0))\r\n          .attr(\"height\", 0),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .delay((d, i) => ((length-i) * duration) / length)\r\n          .attr(\"height\", 0)\r\n          .attr(\"y\", innerHeight)\r\n          .remove()\r\n      )\r\n      .attr(\"x\", (d) => xScale(xValue(d))+ xScale.bandwidth()/2 + separation/2)\r\n      .style(\"fill\", () => colorScale(1))\r\n      //(d, i) => colorScale(i))\r\n      .attr(\"width\", (d) => xScale.bandwidth()/2 - separation/2)\r\n      .on('mouseover',  (d, i) => {\r\n        const temp = d.target.__data__\r\n        tooltip\r\n          .html(\r\n            `<div>${country(temp)}:</div><div>${toolTipText2 + yValue2(temp).toFixed(2)} ${formatNumber2}</div>`\r\n          )\r\n          .style('visibility', 'visible');\r\n        select(this).transition().attr('fill', \"#eec42d\");\r\n        })\r\n        .on('mousemove', function (d) {\r\n            tooltip\r\n            .style('top', d.pageY -10 + 'px')\r\n            .style('left', d.pageX +10 + 'px');\r\n        })\r\n        .on('mouseout', function () {\r\n            tooltip.html(``).style('visibility', 'hidden');\r\n            select(this).transition().attr('fill', '#437c90');\r\n        })\r\n      \r\n      bars2\r\n      .transition(\"bars\")\r\n      .duration(duration)\r\n      .delay((d, i) => (i * duration) / length)\r\n      .attr(\"height\", (d) => innerHeight - yScale(yValue2(d)))\r\n      .attr(\"y\", (d) => yScale(yValue2(d)));\r\n      \r\n    bars1\r\n      .transition(\"opac\")\r\n      .duration(duration*0.2)\r\n      .attr('opacity', () => {\r\n        if (legClick === toolTipText1)\r\n            {return 1}\r\n        else {\r\n        if (!!legHov){\r\n          if (legHov  === toolTipText1)\r\n            {return 1}\r\n          else {return 0.2}\r\n        }\r\n        else if (!legClick && !legHov) {return 1}\r\n        else {return 0.2}\r\n      }}\r\n      )\r\n\r\n\r\n      bars2\r\n      .transition(\"opac\")\r\n      .duration(duration*0.2)\r\n      .attr('opacity', () => {\r\n        if (legClick === toolTipText2)\r\n            {return 1}\r\n        else {\r\n        if (!!legHov){\r\n          if (legHov  === toolTipText2)\r\n            {return 1}\r\n          else {return 0.2}\r\n        }\r\n        else if (!legClick && !legHov) {return 1}\r\n        else {return 0.2}\r\n      }}\r\n      )\r\n\r\n    ColourLegend({\r\n        colorScale: colorScale,\r\n        selection: chart,\r\n        duration: duration,\r\n        data: [toolTipText1,toolTipText2],\r\n        position: position,\r\n        radius: 5,\r\n        legHov: legHov, \r\n        onLegHov : onLegHov,\r\n        legClick: legClick,\r\n        onLegClick: onLegClick,\r\n        prevData: prevData,\r\n      })\r\n      \r\n      chart.selectAll('.legend').moveToFront()\r\n\r\n  };\r\n\r\n\r\n  return (\r\n    <div id=\"barchart\">\r\n        <svg className=\"chart\" width={width} height={height}  ref={ref}>\r\n            <g transform={`translate(${margin.left}, ${margin.top})`}/>\r\n        </svg>\r\n        <div className=\"tooltip\"/>\r\n    </div>\r\n  );\r\n}","import {\r\n    select,\r\n    scaleBand,\r\n    scaleLinear,\r\n    axisBottom,\r\n    axisLeft,\r\n    min,\r\n    max,\r\n    scaleOrdinal,\r\n    selection,\r\n\r\n} from \"d3\";\r\n\r\n\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport { ColourLegend } from \"./colourLegend2\";\r\n\r\nselection.prototype.moveToFront = function() {\r\n  return this.each(function(){\r\n  this.parentNode.appendChild(this);\r\n  });\r\n};\r\nexport const MultinegbarChart = ({ \r\n    graphWidth,\r\n    dataOriginal,  \r\n    onClickValue,\r\n    xAxisTitle,\r\n    yAxisTitle,\r\n    Title,\r\n    xValue,\r\n    yValue1,\r\n    yValue2,\r\n    xTitleOffset,\r\n    yTitleOffset,\r\n    titleOffset,\r\n    colorTheme,\r\n    country,\r\n    toolTipText1,\r\n    formatNumber1,\r\n    toolTipText2,\r\n    formatNumber2,\r\n    height,\r\n    dataLength,\r\n    legHov,\r\n    onLegHov,\r\n    legClick,\r\n    onLegClick,\r\n    prevData,\r\n    setPrev,\r\n    chartColour,\r\n    axisSize,\r\n    margin,\r\n}) => {\r\n\r\n  const duration = 1000;\r\n  const separation = 2;\r\n  const width= graphWidth;\r\n  const data = dataOriginal.filter(d => onClickValue.includes(country(d)))\r\n  const innerWidth = width - margin.left - margin.right;\r\n  const innerHeight = height - margin.top - margin.bottom;\r\n  const ref = useRef();\r\n  const labels = [toolTipText1,toolTipText2]\r\n\r\n  let length;\r\n  if (data.length > 0) \r\n    length = data.length\r\n  else length = dataLength\r\n\r\n  useEffect(() => {\r\n    draw();\r\n    setPrev(toolTipText1)\r\n  }, [data]); \r\n\r\n  const draw = () => {\r\n    \r\n    let maxY = 1;\r\n    if (max(data, yValue1) > max(data, yValue2))\r\n       maxY = max(data,yValue1);\r\n    else  maxY = max(data,yValue2);\r\n    let minY;\r\n    if (min(data, yValue1) > min(data, yValue2))\r\n      if (0 > min(data, yValue2))\r\n          minY = min(data,yValue2);\r\n      else minY = 0;\r\n    else  if (0 > min(data, yValue1))\r\n          minY = min(data,yValue1);\r\n    else minY = 0;;\r\n\r\n\r\n    const xScale = scaleBand()\r\n      .domain(data.map(xValue))\r\n      .range([0, innerWidth])\r\n      .padding(0.2)\r\n    const bandwidth = xScale.bandwidth()\r\n    const yScale = scaleLinear()\r\n      .domain([minY, maxY])\r\n      .range([innerHeight, 0])\r\n      .nice();\r\n\r\n    const xAxis = axisBottom().scale(xScale).tickPadding(10) ;\r\n\r\n    const yAxis = axisLeft().scale(yScale).tickSizeInner(-innerWidth).tickPadding(10);\r\n\r\n    const colorScale = scaleOrdinal(colorTheme);\r\n\r\n    const svg = select(ref.current);\r\n    const chart = svg.select(\"g\");\r\n\r\n    const tooltip = select('.tooltip')\r\n        .style('position', 'absolute')\r\n        .style('z-index', '10')\r\n        .style('visibility', 'hidden')\r\n        .style('padding', '10px')\r\n        .style('background', 'rgba(0,0,0,0.6)')\r\n        .style('border-radius', '4px')\r\n        .style('color', '#fff')\r\n        .text('a simple tooltip');\r\n\r\n        chart//background\r\n        .selectAll(\".background\")\r\n        .data([null])\r\n        .join('rect')\r\n        .classed('background',true)\r\n        .attr('width',innerWidth)\r\n        .attr('height',innerHeight)\r\n        .style('fill',chartColour)\r\n        .on('click', () => {\r\n          onLegClick(null)\r\n        })\r\n  \r\n      const xAxisGroup = chart.selectAll(\".xAxisGroup\").data([null]).join(\"g\").classed(\"xAxisGroup\",true)\r\n      const yAxisGroup = chart.selectAll(\".yAxisGroup\").data([null]).join(\"g\").classed(\"yAxisGroup\",true)\r\n  \r\n      xAxisGroup//x-axis\r\n      .selectAll(\".x-axis\")\r\n      .data([null])\r\n      .join(\"g\")\r\n      .classed(\"x-axis\", true)\r\n      .style('z-index', '5')\r\n      .style(\"font-size\", d => `${Math.log(bandwidth)*2.6}px`)\r\n      .attr(\"transform\", `translate(0,${innerHeight})`)\r\n      .transition()\r\n      .duration(duration)\r\n      .call(xAxis)\r\n\r\n  xAxisGroup//x-axis title\r\n    .selectAll(\".x-axis-title\")\r\n    .data([xAxisTitle])\r\n    .join(\"text\")\r\n    .classed(\"x-axis-title\", true)\r\n    .attr(\"x\", innerWidth / 2)\r\n    .attr(\"y\", innerHeight + xTitleOffset)\r\n    .attr(\"fill\", \"black\")\r\n    .style(\"text-anchor\", \"middle\")\r\n    .style(\"font-size\", axisSize)\r\n    .text((d) => d);\r\n\r\n    yAxisGroup//y-axis\r\n    .selectAll(\".y-axis\")\r\n    .data([null])\r\n    .join((enter) =>\r\n      enter\r\n        .append(\"g\")\r\n        .style(\"font-size\", \"0.9em\")\r\n        .classed(\"y-axis\", true)\r\n        .attr(\"transform\", \"translate(0,0)\"),\r\n      (update) =>\r\n        update,\r\n        (exit) => \r\n        exit\r\n        .transition()\r\n        .duration(duration)\r\n        .remove()\r\n    )\r\n    .transition()\r\n    .duration(duration)\r\n    .call(yAxis);\r\n\r\n\r\n    yAxisGroup//y-axis title\r\n      .selectAll(\".y-axis-title\")\r\n      .data([yAxisTitle])\r\n      .join(\"text\")\r\n      .classed(\"y-axis-title\", true)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", yTitleOffset)\r\n      .style(\"font-size\", axisSize)\r\n      .attr(\"transform\", `translate(${yTitleOffset}, ${innerHeight / 2}) rotate(-90)`)\r\n      .attr(\"fill\", \"#000\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text((d) => d);\r\n\r\n    yAxisGroup//y-axis\r\n      .selectAll(\".xydomain\")\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"path\")\r\n          .classed(\"xydomain\", true),\r\n        (update)=>\r\n          update\r\n          ,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )      \r\n      .append(\"path\")\r\n      .transition()\r\n      .duration(duration)\r\n      .attr('fill','none')\r\n      .attr('d',`M0,0V${innerHeight} H${innerWidth}`)\r\n      .attr('stroke',\"black\")\r\n\r\n      chart //chart title\r\n          .selectAll(\".chart-title\")\r\n          .data([Title])\r\n          .join(\"text\")\r\n          .classed(\"chart-title\",true)\r\n          .attr(\"x\", innerWidth / 2)\r\n          .attr('y',titleOffset)\r\n          .attr(\"fill\", \"#000\")\r\n          .style(\"font-size\", \"14px\")\r\n          .style(\"text-anchor\", \"middle\")\r\n          .text((d) => d);\r\n\r\n\r\n    const bars1 = chart//bar 1\r\n      .selectAll(\".bar1\")\r\n      .data(data)\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"rect\")\r\n          .classed(\"bar1\", true)\r\n          .attr(\"y\", (d) => yScale(0))\r\n          .attr(\"height\", 0),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .delay((d, i) => ((length-i) * duration) / length)\r\n          .attr(\"height\", 0)\r\n          .attr(\"y\", innerHeight)\r\n          .remove()\r\n      )\r\n      .attr(\"x\", (d) => xScale(xValue(d)))\r\n      .style(\"fill\", (d, i) => colorScale(0))\r\n      .attr(\"width\", (d) => xScale.bandwidth()/2 - separation/2)\r\n      .on('mouseover',  (d, i) => {\r\n        const temp = d.target.__data__\r\n        tooltip\r\n          .html(\r\n            `<div>Country: ${country(temp)}</div><div>${toolTipText1 + yValue1(temp).toFixed(2)} ${formatNumber1}</div>`\r\n          )\r\n          .style('visibility', 'visible');\r\n        select(this).transition().attr('fill', \"#eec42d\");\r\n        })\r\n        .on('mousemove', function (d) {\r\n            tooltip\r\n            .style('top', d.pageY -10 + 'px')\r\n            .style('left', d.pageX +10 + 'px');\r\n        })\r\n        .on('mouseout', function () {\r\n            tooltip.html(``).style('visibility', 'hidden');\r\n            select(this).transition().attr('fill', '#437c90');\r\n        })\r\n\r\n      bars1\r\n      .transition('bars')\r\n      .duration(duration)\r\n      .delay((d, i) => (i * duration) / length)\r\n      .attr(\"height\", (d) => Math.abs(-yScale(0) + yScale(yValue1(d))))\r\n      .attr(\"y\", (d) => -yScale(0) + yScale(yValue1(d)) > 0 ?yScale(0) :yScale(yValue1(d)));\r\n\r\n      const bars2 = chart//bar 2\r\n      .selectAll(\".bar2\")\r\n      .data(data)\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"rect\")\r\n          .classed(\"bar2\", true)\r\n          .attr(\"y\", (d) => yScale(0))\r\n          .attr(\"height\", 0),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .delay((d, i) => ((length-i) * duration) / length)\r\n          .attr(\"height\", 0)\r\n          .attr(\"y\", innerHeight)\r\n          .remove()\r\n      )\r\n      .attr(\"x\", (d) => xScale(xValue(d))+ xScale.bandwidth()/2 + separation/2)\r\n      .style(\"fill\", (d, i) => colorScale(1))\r\n      .attr(\"width\", (d) => xScale.bandwidth()/2 - separation/2)\r\n      .on('mouseover',  (d, i) => {\r\n        const temp = d.target.__data__\r\n        tooltip\r\n          .html(\r\n            `<div> ${country(temp)}:</div><div>${toolTipText2 + yValue2(temp).toFixed(2)} ${formatNumber2}</div>`\r\n          )\r\n          .style('visibility', 'visible');\r\n        select(this).transition().attr('fill', \"#eec42d\");\r\n        })\r\n        .on('mousemove', function (d) {\r\n            tooltip\r\n            .style('top', d.pageY -10 + 'px')\r\n            .style('left', d.pageX +10 + 'px');\r\n        })\r\n        .on('mouseout', function () {\r\n            tooltip.html(``).style('visibility', 'hidden');\r\n            select(this).transition().attr('fill', '#437c90');\r\n        })\r\n\r\n      bars2\r\n      .transition('bars')\r\n      .duration(duration)\r\n      .delay((d, i) => (i * duration) / length)\r\n      .attr(\"height\", (d) => Math.abs(-yScale(0) + yScale(yValue2(d))))\r\n      .attr(\"y\", (d) => -yScale(0) + yScale(yValue2(d)) > 0 ?yScale(0) :yScale(yValue2(d)));\r\n      \r\n      bars1\r\n      .transition(\"opac\")\r\n      .duration(duration*0.2)\r\n      .attr('opacity', () => {\r\n        if (legClick === labels[0])\r\n            {return 1}\r\n        else {\r\n        if (!!legHov){\r\n          if (legHov  === labels[0])\r\n            {return 1}\r\n          else {return 0.2}\r\n        }\r\n        else if (!legClick && !legHov) {return 1}\r\n        else {return 0.2}\r\n      }}\r\n      )\r\n\r\n\r\n      bars2\r\n      .transition(\"opac\")\r\n      .duration(duration*0.2)\r\n      .attr('opacity', () => {\r\n        if (legClick === labels[1])\r\n            {return 1}\r\n        else {\r\n        if (!!legHov){\r\n          if (legHov  === labels[1])\r\n            {return 1}\r\n          else {return 0.2}\r\n        }\r\n        else if (!legClick && !legHov) {return 1}\r\n        else {return 0.2}\r\n      }}\r\n      )\r\n\r\n      ColourLegend({\r\n        colorScale: colorScale,\r\n        selection: chart,\r\n        duration: duration,\r\n        data: labels,\r\n        position: `(${graphWidth - 330},${25})`,\r\n        radius: 5,\r\n        legHov: legHov, \r\n        onLegHov : onLegHov,\r\n        legClick: legClick,\r\n        onLegClick: onLegClick,\r\n        prevData: prevData,\r\n      })\r\n      chart.selectAll('.legend').moveToFront()\r\n  };\r\n\r\n  return (\r\n    <div id=\"barchart\">\r\n        <svg className=\"chart\" width={width} height={height}  ref={ref}>\r\n            <g transform={`translate(${margin.left}, ${margin.top})`}/>\r\n        </svg>\r\n        <div className=\"tooltip\"/>\r\n    </div>\r\n  );\r\n}","\r\nimport {geoMercator, geoPath, geoGraticule,select,zoom } from 'd3';\r\n\r\n\r\nconst projection = geoMercator()\r\n\r\n\r\nconst path = geoPath(projection);\r\nconst graticule = geoGraticule();\r\nlet temp  \r\n\r\n\r\n\r\nexport const Countries = ({ \r\n    data: { country },\r\n    setCountries,\r\n    countries,\r\n    mapClicked,\r\n    setMapClicked,\r\n    regionsAvailable,\r\n  }) => {\r\n\r\n    const selection =  select(\".map-container\")\r\n    const gMap = select(\".shapes\")\r\n    selection.call(zoom()\r\n    .scaleExtent([0.9, 10])\r\n    .translateExtent([[0, -40], [900,500]])\r\n    .on('zoom', d => {\r\n        gMap.attr(\"transform\", d.transform);\r\n      }));\r\n    let temp2;\r\n\r\n    \r\n    const tooltip = select('.map-tooltip')\r\n    .style('position', 'absolute')\r\n    .style('z-index', '10')\r\n    .style('visibility', 'hidden')\r\n    .style('padding', '10px')\r\n    .style('background', 'rgba(0,0,0,0.6)')\r\n    .style('border-radius', '4px')\r\n    .style('color', '#fff')\r\n    .text('a simple tooltip');\r\n\r\n   return (\r\n    <>\r\n    <path className=\"graticules\" d={path(graticule())} />\r\n    {country.features.map(feature => (\r\n        <path \r\n          className='country' \r\n          id= {feature.properties.name} \r\n          key={feature.properties.name} \r\n          d={path(feature)} \r\n          fill={regionsAvailable.includes(feature.properties.name) ?'#0F8291' :'#ebf4f4'}\r\n          onClick={() => {\r\n\r\n            if (regionsAvailable.includes(feature.properties.name)) {\r\n              let a = countries.indexOf(feature.properties.name)\r\n              if (countries.includes(feature.properties.name))\r\n                  temp = countries.filter( d => countries.indexOf(d) !== a)\r\n              else  temp = [...countries,feature.properties.name]\r\n                  setCountries(temp)\r\n              }\r\n            else console.log('Data for country unavailable!')\r\n          }}\r\n          strokeWidth={0.09}\r\n          opacity={countries.includes(feature.properties.name) ?0.6 :1}\r\n          stroke=\"black\"\r\n          onMouseOver={ d => {\r\n            temp2 = d.target.id\r\n            tooltip.html(\r\n              `<div>${temp2}</div>`\r\n            )\r\n            .style('visibility', 'visible')\r\n            select(this).transition().attr('fill', \"#eec42d\");\r\n            }}\r\n          onMouseMove = {(d) => {\r\n            tooltip\r\n            .style('top', d.nativeEvent.layerY + 20 + 'px')\r\n            .style('left',  d.nativeEvent.layerX + 'px');\r\n          }}\r\n          onMouseOut={ () => {\r\n              tooltip.html(``).style('visibility', 'hidden');\r\n              select(this).transition().attr('fill', '#437c90');\r\n            }}\r\n          />\r\n    ))} /\r\n    <rect height=\"100%\" width=\"100%\" fill={mapClicked ?'none':'grey'} opacity=\"0.3\" onClick={() => {setMapClicked(true)}}/>\r\n    <text x={'50%'} y={'45%'} textAnchor=\"middle\"  className=\"pretext\" fill={'none'} stroke={mapClicked ?'none':'black'} onClick={() => {setMapClicked(true)}} >\r\n      Drag around the map and click to select a country.\r\n      </text>\r\n    <text x={'50%'} y={'50%'} textAnchor=\"middle\" fill={'none'} stroke={mapClicked ?'none':'black'}>\r\n      Click here to start.\r\n      </text>\r\n    </>\r\n)\r\n};\r\n","\r\nimport {geoAlbersUsa, geoPath,select,zoom } from 'd3';\r\n\r\n\r\nconst projection = geoAlbersUsa()\r\nconst path = geoPath(projection);\r\nlet temp2;\r\n\r\n\r\nexport const UStates = ({ \r\n    data: { state },\r\n    mapClicked,\r\n    setMapClicked,\r\n    regionsAvailable,\r\n  }) => {\r\n\r\n    const selection =  select(\".map-container\")\r\n    const gMap = select(\".shapes\")\r\n    selection.call(zoom()\r\n    .scaleExtent([0.9, 10])\r\n    .translateExtent([[0, -40], [900,500]])\r\n    .on('zoom', d => {\r\n        gMap.attr(\"transform\", d.transform);\r\n      }));\r\n    const tooltip = select('.map-tooltip')\r\n      .style('position', 'absolute')\r\n      .style('z-index', '10')\r\n      .style('visibility', 'hidden')\r\n      .style('padding', '10px')\r\n      .style('background', 'rgba(0,0,0,0.6)')\r\n      .style('border-radius', '4px')\r\n      .style('color', '#fff')\r\n      .text('a simple tooltip');\r\n\r\n   return (\r\n    <>\r\n    {state.features.map(feature => (\r\n        <path \r\n          className='USState' \r\n          id= {feature.properties.name} \r\n          key={feature.id*100} \r\n          d={path(feature)} \r\n          fill={false ?'#137B80' :'#ebf4f4'}\r\n          strokeWidth={0.09}\r\n          stroke=\"black\"\r\n          onMouseOver={ d => {\r\n            temp2 = d.target.id\r\n            tooltip.html(\r\n              `<div>${temp2}</div>`\r\n            )\r\n            .style('visibility', 'visible')\r\n            select(this).transition().attr('fill', \"#eec42d\");\r\n            }}\r\n          onMouseMove = {(d) => {\r\n            tooltip\r\n            .style('top', d.nativeEvent.layerY + 30 + 'px')\r\n            .style('left',  d.nativeEvent.layerX + 'px');\r\n          }}\r\n          onMouseOut={ () => {\r\n              tooltip.html(``).style('visibility', 'hidden');\r\n              select(this).transition().attr('fill', '#437c90');\r\n            }}\r\n          />\r\n    ))} /\r\n    <rect height=\"100%\" width=\"100%\" fill={mapClicked ?'none':'grey'} opacity=\"0.3\" onClick={() => {setMapClicked(true)}}/>\r\n    <text x={'50%'} y={'45%'} textAnchor=\"middle\"  className=\"pretext\" fill={'none'} stroke={mapClicked ?'none':'black'} onClick={() => {setMapClicked(true)}} >\r\n      Drag/Zoom around the map and click to select a state.\r\n      </text>\r\n    <text x={'50%'} y={'50%'} textAnchor=\"middle\" fill={'none'} stroke={mapClicked ?'none':'black'}>\r\n      Click here to start.\r\n      </text>\r\n    </>\r\n)\r\n};\r\n","\r\nimport {geoMercator, geoPath, geoGraticule,select,zoom } from 'd3';\r\n\r\nlet temp;\r\n\r\n\r\n\r\nexport const Countries = ({ \r\n    data: { country },\r\n    setCountries,\r\n    countries,\r\n    mapClicked,\r\n    setMapClicked,\r\n    regionsAvailable,\r\n    height,\r\n    width,\r\n\r\n  }) => {\r\n\r\n    const projection = geoMercator().center([ 13, 52 ])\r\n    .translate([ width/2, height/2 ])\r\n    .scale([ width/1.5 ]);\r\n\r\n\r\n    const path = geoPath(projection);\r\n    const graticule = geoGraticule();\r\n\r\n    const selection =  select(\".map-container\")\r\n    const gMap = select(\".shapes\")\r\n    selection.call(zoom()\r\n    .scaleExtent([0.9, 10])\r\n    .translateExtent([[0, -40], [900,500]])\r\n    .on('zoom', d => {\r\n        gMap.attr(\"transform\", d.transform);\r\n      }));\r\n    let temp2;\r\n\r\n    \r\n    const tooltip = select('.map-tooltip')\r\n    .style('position', 'absolute')\r\n    .style('z-index', '10')\r\n    .style('visibility', 'hidden')\r\n    .style('padding', '10px')\r\n    .style('background', 'rgba(0,0,0,0.6)')\r\n    .style('border-radius', '4px')\r\n    .style('color', '#fff')\r\n    .text('a simple tooltip');\r\n\r\n   return (\r\n    <>\r\n    <path className=\"graticules\" d={path(graticule())} />\r\n    {country.features.map(feature => (\r\n        <path \r\n          className='country' \r\n          id= {feature.properties.name} \r\n          key={feature.id} \r\n          d={path(feature)} \r\n          fill={regionsAvailable.includes(feature.properties.name) ?'#137B80' :'#ebf4f4'}\r\n          onClick={() => {\r\n\r\n            if (regionsAvailable.includes(feature.properties.name)) {\r\n              let a = countries.indexOf(feature.properties.name)\r\n              if (countries.includes(feature.properties.name))\r\n                  temp = countries.filter( d => countries.indexOf(d) !== a)\r\n              else  temp = [...countries,feature.properties.name]\r\n                  setCountries(temp)\r\n              }\r\n            else console.log('Data not available !')\r\n          }}\r\n          strokeWidth={0.09}\r\n          opacity={countries.includes(feature.properties.name) ?0.6 :1}\r\n          stroke=\"black\"\r\n          onMouseOver={ d => {\r\n            temp2 = d.target.id\r\n            tooltip.html(\r\n              `<div>${temp2}</div>`\r\n            )\r\n            .style('visibility', 'visible')\r\n            select(this).transition().attr('fill', \"#eec42d\");\r\n            }}\r\n          onMouseMove = {(d) => {\r\n            tooltip\r\n            .style('top', d.nativeEvent.layerY + 30 + 'px')\r\n            .style('left',  d.nativeEvent.layerX + 'px');\r\n          }}\r\n          onMouseOut={ () => {\r\n              tooltip.html(``).style('visibility', 'hidden');\r\n              select(this).transition().attr('fill', '#437c90');\r\n            }}\r\n          />\r\n    ))} /\r\n    <rect height=\"100%\" width=\"100%\" fill={mapClicked ?'none':'grey'} opacity=\"0.3\" onClick={() => {setMapClicked(true)}}/>\r\n    <text x={'50%'} y={'45%'} textAnchor=\"middle\"  className=\"pretext\" fill={'none'} stroke={mapClicked ?'none':'black'} onClick={() => {setMapClicked(true)}} >\r\n      Drag around the map and click to select a country.\r\n      </text>\r\n    <text x={'50%'} y={'50%'} textAnchor=\"middle\" fill={'none'} stroke={mapClicked ?'none':'black'}>\r\n      Click here to start.\r\n      </text>\r\n    </>\r\n)\r\n};\r\n","\r\nimport { BarChart } from \"../D3_Charts/barAni\";\r\nimport {Scatter} from \"../D3_Charts/scatterAni\";\r\nimport { MultibarChart } from \"../D3_Charts/multibarAni\";\r\nimport { MultinegbarChart } from \"../D3_Charts/multinegbarAni\";\r\n\r\nimport { Flex,Text } from \"@chakra-ui/layout\";\r\nimport {schemeAccent, schemeCategory10,} from 'd3'\r\nimport { useState } from \"react\";\r\nexport const GraphSelector = ({\r\n    onClicked,\r\n    dataOriginal,\r\n    graph,\r\n    graphWidth,\r\n    dataLength,\r\n    legHov,\r\n    onLegHov,\r\n    legClick,\r\n    onLegClick,\r\n    attributes,\r\n    }) => {\r\n        const height = 500;\r\n        const [prevData, setPrev] = useState(null)\r\n        const [labelOn, setLabel] = useState(true)\r\n        const axisSize = \"1em\";\r\n        const chartColour = 'rgba(235, 238, 238, 0.5)';\r\n        const yTitleOffset = -27;\r\n        const xTitleOffset = 50;\r\n        const titleOffset = 20;\r\n        const margin = {\r\n            top: 30,\r\n            bottom: 80,\r\n            left: 90,\r\n            right: 20,\r\n          };\r\n    if (graph === attributes[0]) {\r\n        return <Scatter\r\n        graphWidth={graphWidth}\r\n        height = {height}\r\n        dataOriginal={dataOriginal}\r\n        onClickValue={onClicked}\r\n        xAxisTitle = {'PV on EV Emissions [gCO2e/kWh]'}\r\n        yAxisTitle ={'EV Emissions [gCO2e/kWh]'}\r\n        Title = {''}\r\n        xValue = {d => d.PVonEV_usageEmissions}\r\n        yValue  = {d => d.EV_Usage_Emissions}\r\n        \r\n        colorTheme={schemeAccent}\r\n        radius = {5}\r\n        country = {d => d.region}\r\n        toolTipText1 = \"x: \"\r\n        toolTipText2 = \"y: \"\r\n        formatNumber1 = \"\"\r\n        formatNumber2 = \"\"\r\n        dataLength = {dataLength}\r\n        xTitleOffset = {xTitleOffset}\r\n        yTitleOffset = {yTitleOffset}\r\n        titleOffset = {titleOffset}\r\n        chartColour = {chartColour}\r\n        axisSize = {axisSize}\r\n        margin = {margin}\r\n        abbrev = {d => d.abbrev}\r\n        labelOn = {labelOn}\r\n        setLabel = {setLabel}\r\n        />\r\n        }\r\n    else if (graph === attributes[1]) {\r\n        return <BarChart\r\n        graphWidth={graphWidth}\r\n        height = {height}\r\n        dataOriginal={dataOriginal}\r\n        onClickValue={onClicked}\r\n        xAxisTitle = {''}\r\n        yAxisTitle ={'EV-Usage Emissions Reductions [gCO2e/km]'}\r\n        Title = {''}\r\n        xValue = {d => d.abbrev}\r\n        yValue  = {d => d.EV_Usage_Emissions}\r\n        xTitleOffset = {xTitleOffset}\r\n        yTitleOffset = {yTitleOffset}\r\n        titleOffset = {titleOffset}\r\n        colorTheme={schemeCategory10}\r\n        country = {d => d.region}\r\n        toolTipText = \"EV-Usage Emissions Reductions: \"\r\n        formatNumber = \"gCO2e/km\"\r\n        dataLength = {dataLength}\r\n        chartColour = {chartColour}\r\n        axisSize = {axisSize}\r\n        margin = {margin}\r\n        />\r\n        }\r\n    else if (graph === attributes[5]) {\r\n            return <BarChart\r\n            graphWidth={graphWidth}\r\n            height = {height}\r\n            dataOriginal={dataOriginal}\r\n            onClickValue={onClicked}\r\n            xAxisTitle = {''}\r\n            yAxisTitle ={'Annual Global Horizontal Irradiance [kWh/m]'}\r\n            Title = {''}\r\n            xValue = {d => d.abbrev}\r\n            yValue  = {d => d.Annual_GHI_kWh_m2}\r\n            xTitleOffset = {xTitleOffset}\r\n            yTitleOffset = {yTitleOffset}\r\n            titleOffset = {titleOffset}\r\n            colorTheme={schemeCategory10}\r\n            country = {d => d.region}\r\n            toolTipText = \"GHI: \"\r\n            formatNumber = \"kWh/m\"\r\n            dataLength = {dataLength}\r\n            chartColour = {chartColour}\r\n            axisSize = {axisSize}\r\n            margin = {margin}\r\n            />\r\n            }\r\n    else if (graph === attributes[2]) {\r\n        return <MultibarChart\r\n        graphWidth = {graphWidth}\r\n        height={height}\r\n        dataOriginal={dataOriginal}\r\n        onClickValue={onClicked}\r\n        xAxisTitle = {''}\r\n        yAxisTitle ={'Carbon Intensity of Electricity Grid [gCO2e/kWh]'}\r\n        Title = {''}\r\n        xValue = {d => d.abbrev}\r\n        yValue1  = {d => d.CIEG2013_gCO2e_kWh}\r\n        yValue2 = {d => d.CIEG_gCO2_kWh_2018}\r\n        xTitleOffset = {xTitleOffset}\r\n        yTitleOffset = {yTitleOffset}\r\n        titleOffset = {titleOffset}\r\n        colorTheme={['orange','red']}\r\n        country = {d => d.region}\r\n        toolTipText1 = \"CIEG (2013): \"\r\n        toolTipText2 = \"CIEG (2018): \"\r\n        formatNumber1 = \"gCO2e/kWh\"\r\n        formatNumber2 = \"gCO2e/kWh\"\r\n        dataLength = {dataLength}\r\n        chartColour = {chartColour}\r\n        axisSize = {axisSize}\r\n        margin = {margin}\r\n        legHov = {legHov}\r\n        onLegHov = {onLegHov}\r\n        legClick = {legClick}\r\n        onLegClick = {onLegClick}\r\n        position= {`(${graphWidth - 320},${25})`}\r\n        prevData = {prevData}\r\n        setPrev = {setPrev}\r\n        />\r\n        }\r\n    else if (graph === attributes[3]) {\r\n        return <MultibarChart\r\n        graphWidth = {graphWidth}\r\n        height = {height}\r\n        dataOriginal={dataOriginal}\r\n        onClickValue={onClicked}\r\n        xAxisTitle = {''}\r\n        yAxisTitle ={'VKT/day [km/day]'}\r\n        Title = {''}\r\n        xValue = {d => d.abbrev}\r\n        yValue1  = {d => d.VKT_day}\r\n        yValue2 = {d => d.PV_only_drivingRange_km_day}\r\n        xTitleOffset = {xTitleOffset}\r\n        yTitleOffset = {yTitleOffset}\r\n        titleOffset = {titleOffset}\r\n        colorTheme={['#02893B','#BBCE00']}\r\n        country = {d => d.region}\r\n        toolTipText1 = \"Average VKT/day: \"\r\n        toolTipText2 = \"PV Only Range: \"\r\n        formatNumber1 = \"km/day\"\r\n        formatNumber2 = \"km/day\"\r\n        dataLength = {dataLength}\r\n        chartColour = {chartColour}\r\n        axisSize = {axisSize}\r\n        margin = {margin}\r\n        abbrev = {d => d.abbrev}\r\n        legHov = {legHov}\r\n        onLegHov = {onLegHov}\r\n        legClick = {legClick}\r\n        onLegClick = {onLegClick}\r\n        position = {`(${graphWidth - 330},${25})`}\r\n        prevData = {prevData}\r\n        setPrev = {setPrev}\r\n        />\r\n        }\r\n    else if (graph === attributes[4]) {\r\n        return <MultinegbarChart\r\n        height={height}\r\n        graphWidth = {graphWidth}\r\n        dataOriginal={dataOriginal}\r\n        onClickValue={onClicked}\r\n        xAxisTitle = {''}\r\n        yAxisTitle ={'CIEG Decrease [gCO2e/kWh]'}\r\n        Title = {''}\r\n        xValue = {d => d.abbrev}\r\n        yValue1  = {d => -d.CIEG_trends_gCO2e_kWh}\r\n        yValue2 = {d => -d.CIEG_PV_change_trends_gCO2e_kWh}\r\n        xTitleOffset = {xTitleOffset}\r\n        yTitleOffset = {yTitleOffset}\r\n        titleOffset = {titleOffset}\r\n        colorTheme={['orange','red']}\r\n        country = {d => d.region}\r\n        toolTipText1 = \"CIEG Change: \"\r\n        toolTipText2 = \"CIEG PV Change: \"\r\n        formatNumber1 = \"gCO2e/kWh\"\r\n        formatNumber2 = \"gCO2e/kWh\"\r\n        dataLength = {dataLength}\r\n        chartColour = {chartColour}\r\n        axisSize = {axisSize}\r\n        margin = {margin}\r\n        abbrev = {d => d.abbrev}\r\n        legHov = {legHov}\r\n        onLegHov = {onLegHov}\r\n        legClick = {legClick}\r\n        onLegClick = {onLegClick}\r\n        prevData = {prevData}\r\n        setPrev = {setPrev}\r\n        />\r\n        }\r\n    else {\r\n        return <Flex alignItems=\"center\" width={document.body.clientWidth/2 }><Text>invalid</Text></Flex>\r\n    }\r\n}\r\n    ","\r\n// constant assumptions\r\n\r\nconst PV_cellarea_cm2 = 153.3;\r\nconst STCirradiance_W_m2 = 1000;\r\n//const PV_converterEfficency = 0.93\r\nconst PV_lifetime_yrs = 25;\r\nconst PV_carbon_intensity_per_unitCapacity = 1500;\r\nconst EV_ChargerEfficiency = 0.86;\r\nconst annualElecCostIncrease = 0.025;\r\nconst a1 =\t-0.0348;\r\nconst a2 =\t0.9318;\r\nconst d1 =\t11.826;\r\nconst d2 = \t-8.827;\r\n\r\n\r\nexport const CalcDataFunc = props => {\r\n\r\nlet {\r\n    data,\r\n    VKToption,\r\n    PV_CellNominalEffiency,\r\n    cellArea_ratio,\r\n    caseOption,\r\n    PV_performanceRatio,\r\n} = props\r\n\r\n    let pvData = data\r\n    let VKT = new Array(pvData.length);\r\n    let VKT_day = new Array(pvData.length);\r\n    // Assumption Calculation\r\n    if (!VKToption[1])\r\n          VKT.fill(VKToption[0])\r\n    else for (let i = 0; i <pvData.length ; i++) {VKT[i] = pvData[i].VKTstat}\r\n\r\n    const caseArray = ['High Case','Medium Case','Low Case'];\r\n    const energy_consumption_Wh_km  = [280,200,150]\r\n    const vehicle_footprint_m2Array = [4.3,4.3,3.68]\r\n\r\n    for (let i = 0; i <pvData.length ; i++) {\r\n         VKT_day[i] = VKT[i]/365;\r\n    }\r\n    const evCaseSelect = caseArray.indexOf(caseOption[0])\r\n    let EV_Eff_Wh_km;\r\n    let vehicle_footprint_m2;\r\n\r\n    if (caseOption[1] === false) {\r\n     EV_Eff_Wh_km = energy_consumption_Wh_km[evCaseSelect]\r\n     vehicle_footprint_m2 =  vehicle_footprint_m2Array[evCaseSelect]\r\n    }\r\n    else {\r\n    EV_Eff_Wh_km = caseOption[2]\r\n     vehicle_footprint_m2 =  caseOption[3]\r\n    }\r\n    const cellNumber = Math.floor(vehicle_footprint_m2*cellArea_ratio*10000/PV_cellarea_cm2)\r\n    //const PV_totalArrayArea = PV_cellarea_cm2*cellNumber/10000;\r\n    const PV_CellNominalPower = PV_CellNominalEffiency*STCirradiance_W_m2*PV_cellarea_cm2/10000;\r\n    const PV_arrayNominalPower = PV_CellNominalPower * cellNumber;\r\n    //const PV_arrayLosses = 1- PV_performanceRatio/PV_converterEfficency;\r\n    \r\n    const EV_Eff_km_kWh =  1/EV_Eff_Wh_km*1000\r\n    let manufacturingEmissions = [];\r\n    for (let i = 0; i <pvData.length ; i++) {manufacturingEmissions.push(PV_arrayNominalPower*PV_carbon_intensity_per_unitCapacity/(VKT[i]*PV_lifetime_yrs))};\r\n\r\n\r\n\r\n    // ICEV-Usage Emissions of LDV Fleet\r\n    let ICEV_Usage_Emissions = [];\r\n    \r\n    pvData.forEach(d => {\r\n        let temp = (a1*d.Share_of_diesel_gasoline_vehicles/100+a2)*d.ICEV_usage_emissions_gCO2e_km + d1*d.Share_of_diesel_gasoline_vehicles/100+d2\r\n        ICEV_Usage_Emissions.push(temp) })\r\n    \r\n  \r\n\r\n\r\n    // EV-USAGE EMISSIONS\t\t\r\n    let EV_Usage_Emissions = []\r\n    let temp;\r\n    pvData.forEach(d => {\r\n        if (typeof(d.CIEG_kgCO2_kWh)=== \"number\")\r\n            temp = d.CIEG_kgCO2_kWh/EV_Eff_km_kWh*1000\r\n        else {\r\n            temp = new Array(d.CIEG_kgCO2_kWh.length)\r\n            for(let i = 0; i <d.CIEG_kgCO2_kWh.length ; i++){\r\n                temp[i] = d.CIEG_kgCO2_kWh[i]/EV_Eff_km_kWh*1000\r\n            }\r\n        }\r\n        EV_Usage_Emissions.push(temp) })\r\n        \r\n\r\n\r\n    // GRID ENERGY SAVINGS\r\n    let PV_output_kWh_yr =[];\r\n    let gridSavings_kWh_yr = [];\r\n\r\n    pvData.forEach(d => {\r\n        let temp = d.Annual_GHI_kWh_m2*PV_performanceRatio*PV_arrayNominalPower/1000\r\n        PV_output_kWh_yr.push(temp)\r\n        gridSavings_kWh_yr.push(temp/EV_ChargerEfficiency)       })\r\n\r\n\r\n    \r\n    // PV-ONLY DRIVING RANGE\t\r\n    let PV_only_drivingRange_km_day = [];\r\n    let PV_only_drivingRange_perc = [];\r\n\r\n    let n=0;\r\n    gridSavings_kWh_yr.forEach(d => {\r\n        let temp = d*EV_Eff_km_kWh/365; \r\n        PV_only_drivingRange_km_day.push(temp)\r\n        \r\n        if (temp/VKT_day[n] >= 1)\r\n             PV_only_drivingRange_perc.push(1);\r\n        else PV_only_drivingRange_perc.push(temp/VKT_day[n]);\r\n        n += 1;  \r\n    })\r\n\r\n    \r\n     \r\n    //PV ON EV-USAGE EMISSIONS\t\t\t\t\t\t\r\n    let emissionReduction_savings = [];\r\n    let PVonEV_usageEmissions =[];\r\n    let PVonEV_EV_ratio =[];\r\n    let EV_Usage_Emissions_change = [];\r\n\r\n    n=0;\r\n    pvData.forEach(d => {\r\n        if (typeof(d.CIEG_kgCO2_kWh)=== \"number\"){\r\n            let temp = (gridSavings_kWh_yr[n]*d.CIEG_kgCO2_kWh*1000)/VKT[n]\r\n            emissionReduction_savings.push(temp) \r\n            if (EV_Usage_Emissions[n]>temp)\r\n                PVonEV_usageEmissions.push(EV_Usage_Emissions[n]+manufacturingEmissions[n]-temp)\r\n            else PVonEV_usageEmissions.push(manufacturingEmissions[n])\r\n            PVonEV_EV_ratio.push((EV_Usage_Emissions[n]-PVonEV_usageEmissions[n])/EV_Usage_Emissions[n])\r\n            EV_Usage_Emissions_change.push(-EV_Usage_Emissions[n]+PVonEV_usageEmissions[n])\r\n        }\r\n        else  {\r\n           let temp = new Array(d.CIEG_kgCO2_kWh.length)\r\n           let temp2 = new Array(d.CIEG_kgCO2_kWh.length)\r\n           let temp3 = new Array(d.CIEG_kgCO2_kWh.length)\r\n           let temp4 = new Array(d.CIEG_kgCO2_kWh.length)\r\n        for(let i = 0; i <d.CIEG_kgCO2_kWh.length ; i++){\r\n             temp[i] = (gridSavings_kWh_yr[n]*d.CIEG_kgCO2_kWh[i]*1000)/VKT[n]\r\n            if (EV_Usage_Emissions[n][i]>temp[i])\r\n                temp2[i] = EV_Usage_Emissions[n][i]+manufacturingEmissions[n]-temp[i]\r\n            else temp2[i] = manufacturingEmissions[n]\r\n            temp3[i] = (EV_Usage_Emissions[n][i]-temp2[i])/EV_Usage_Emissions[n][i]\r\n            temp4[i] = (-EV_Usage_Emissions[n][i]+temp2[i])\r\n        }\r\n            emissionReduction_savings.push(temp) \r\n            PVonEV_usageEmissions.push(temp2)\r\n            PVonEV_EV_ratio.push(temp3)\r\n            EV_Usage_Emissions_change.push(temp4)\r\n        }\r\n        n += 1; \r\n    })\r\n\r\n\r\n\r\n\r\n    //PV ON EV EQUIVALENT CIEG REDUCTION\t\t\t\r\n    let CIEG_trends_gCO2e_kWh = [];\r\n    let CIEG_PV_trends_gCO2e_kWh = [];\r\n    let CIEG_PV_change_trends_gCO2e_kWh = [];\r\n    n=0;\r\n\r\n    pvData.forEach(d => {\r\n        if (typeof(d.CIEG_kgCO2_kWh)=== \"number\"){\r\n        let temp = d.CIEG_gCO2_kWh -d.CIEG2013_gCO2e_kWh\r\n        let temp2 = PVonEV_usageEmissions[n]*1000/EV_Eff_Wh_km\r\n        CIEG_trends_gCO2e_kWh.push(temp) \r\n        CIEG_PV_trends_gCO2e_kWh.push(temp2)\r\n        CIEG_PV_change_trends_gCO2e_kWh.push(temp2 - d.CIEG_gCO2_kWh)\r\n        }\r\n        else{\r\n            let index = d.Year.indexOf(2018)\r\n            let temp = d.CIEG_gCO2_kWh[index] -d.CIEG2013_gCO2e_kWh\r\n            let temp2 = PVonEV_usageEmissions[n][index]*1000/EV_Eff_Wh_km\r\n            let temp3 = temp2 - d.CIEG_gCO2_kWh[index]\r\n            \r\n            CIEG_trends_gCO2e_kWh.push(temp) \r\n            CIEG_PV_trends_gCO2e_kWh.push(temp2)\r\n            CIEG_PV_change_trends_gCO2e_kWh.push(temp3)\r\n        }\r\n        n += 1;   \r\n    })\r\n\r\n\r\n\r\n\r\n    //ELECTRICITY COST SAVINGS\t\t\t\t\t\r\n    let EV_Electricitycost_USD_yr = [];\r\n    let PVonEV_Savings_USD_yr = [];\r\n    let PVonEV_Cost_USD_yr = [];\r\n    let PVonEV_LifetimeSavings_USD_yr = [];\r\n    n = 0;\r\n    pvData.forEach(d => {\r\n        let temp = d.Electricity_cost_USD_kWh*VKT[n]*EV_Eff_Wh_km/1000\r\n\r\n        EV_Electricitycost_USD_yr.push(temp)\r\n\r\n        if (d.Electricity_cost_USD_kWh*gridSavings_kWh_yr[n] < temp)\r\n            PVonEV_Savings_USD_yr.push(d.Electricity_cost_USD_kWh*gridSavings_kWh_yr[n]);\r\n        else  PVonEV_Savings_USD_yr.push(temp)\r\n\r\n        PVonEV_Cost_USD_yr.push(temp - d.Electricity_cost_USD_kWh*gridSavings_kWh_yr[n])\r\n        let temp2 = PVonEV_Savings_USD_yr[n];\r\n        for (let i = 1; i <15 ; i++) {\r\n            temp2 += PVonEV_Savings_USD_yr[n]*Math.pow(1+annualElecCostIncrease,i)\r\n          }\r\n        PVonEV_LifetimeSavings_USD_yr.push(temp2)\r\n        n+=1;\r\n    });\r\n\r\n    \r\n    \r\n    let calculatedData = pvData;\r\n    for (let i = 0; i <pvData.length ; i++) {\r\n\r\n        if (pvData[i].G20 === \"TRUE\")\r\n            {calculatedData[i].G20 = true}\r\n\r\n        calculatedData[i].ICEV_Usage_Emissions = ICEV_Usage_Emissions[i]\r\n\r\n\r\n        calculatedData[i].PV_output_kWh_yr= PV_output_kWh_yr[i]\r\n        calculatedData[i].gridSavings_kWh_yr= gridSavings_kWh_yr[i]\r\n\r\n        calculatedData[i].PV_only_drivingRange_km_day= PV_only_drivingRange_km_day[i]\r\n        calculatedData[i].PV_only_drivingRange_perc= PV_only_drivingRange_perc[i]\r\n\r\n        if (typeof(EV_Usage_Emissions[i]) === \"number\") {\r\n            calculatedData[i].EV_Usage_Emissions=  EV_Usage_Emissions[i]\r\n            calculatedData[i].emissionReduction_savings = emissionReduction_savings[i] \r\n            calculatedData[i].PVonEV_usageEmissions =PVonEV_usageEmissions[i];\r\n            calculatedData[i].PVonEV_EV_ratio =PVonEV_EV_ratio[i];\r\n            calculatedData[i].EV_Usage_Emissions_change = EV_Usage_Emissions_change[i];\r\n            calculatedData[i].CIEG_gCO2_kWh_2018 = calculatedData[i].CIEG_gCO2_kWh\r\n            calculatedData[i].CIEG_kgCO2_kWh_2018 = calculatedData[i].CIEG_kgCO2_kWh\r\n        }\r\n        else {\r\n            calculatedData[i].EV_Usage_Emissions_Years=  EV_Usage_Emissions[i]\r\n            calculatedData[i].emissionReduction_savings_Years = emissionReduction_savings[i] \r\n            calculatedData[i].PVonEV_usageEmissions_Years =PVonEV_usageEmissions[i];\r\n            calculatedData[i].PVonEV_EV_ratio_Years =PVonEV_EV_ratio[i];\r\n            calculatedData[i].EV_Usage_Emissions_change_Years = EV_Usage_Emissions_change[i];\r\n            calculatedData[i].CIEG_kgCO2_kWh_Years = calculatedData[i].CIEG_kgCO2_kWh \r\n            calculatedData[i].CIEG_gCO2_kWh_Years = calculatedData[i].CIEG_gCO2_kWh\r\n\r\n            let index = calculatedData[i].Year.indexOf(2018)\r\n            calculatedData[i].EV_Usage_Emissions=  EV_Usage_Emissions[i][index]\r\n            calculatedData[i].emissionReduction_savings = emissionReduction_savings[i][index]\r\n            calculatedData[i].PVonEV_usageEmissions =PVonEV_usageEmissions[i][index];\r\n            calculatedData[i].PVonEV_EV_ratio =PVonEV_EV_ratio[i][index];\r\n            calculatedData[i].EV_Usage_Emissions_change = EV_Usage_Emissions_change[i][index];\r\n            calculatedData[i].CIEG_gCO2_kWh_2018 = calculatedData[i].CIEG_gCO2_kWh[index]\r\n            calculatedData[i].CIEG_kgCO2_kWh_2018 = calculatedData[i].CIEG_kgCO2_kWh[index]\r\n        }\r\n        calculatedData[i].CIEG_trends_gCO2e_kWh = CIEG_trends_gCO2e_kWh[i];\r\n        calculatedData[i].CIEG_PV_trends_gCO2e_kWh = CIEG_PV_trends_gCO2e_kWh[i];\r\n        calculatedData[i].CIEG_PV_change_trends_gCO2e_kWh = CIEG_PV_change_trends_gCO2e_kWh[i];\r\n\r\n        calculatedData[i].EV_Electricitycost_USD_yr = EV_Electricitycost_USD_yr[i];\r\n        calculatedData[i].PVonEV_Savings_USD_yr = PVonEV_Savings_USD_yr[i];\r\n        calculatedData[i].PVonEV_Cost_USD_yr = PVonEV_Cost_USD_yr[i];\r\n        calculatedData[i].PVonEV_LifetimeSavings_USD_yr = PVonEV_LifetimeSavings_USD_yr[i];\r\n        calculatedData[i].VKT_day = VKT_day[i];\r\n\r\n    }\r\n    return calculatedData;\r\n};\r\n","import { Flex,Box,Text } from \"@chakra-ui/layout\"\r\nimport { Dropdown } from \"../../UI/DropdownChak\"\r\nimport {useState} from 'react'\r\nimport { GraphSelector } from \"./GraphSelector\";\r\nimport { CalcDataFunc } from \"../../Calculations/calculation\";\r\n\r\nexport const GraphArea = ({\r\n    onClicked,\r\n    graphWidth,\r\n    dataLength,\r\n    VKToption,\r\n    dataRaw,\r\n    cellArea_ratio,\r\n    caseOption,\r\n    PV_performanceRatio,\r\n    PV_CellNominalEffiency,\r\n    text,\r\n    }) => { \r\n\r\n    let attributes = new Array();\r\n    let desc = new Array();\r\n        \r\n    for (var props in text){\r\n        if (text[props].title) {\r\n        attributes.push(text[props].title)\r\n        desc.push(text[props].desc)}\r\n    }\r\n\r\n    const  dataOriginal = CalcDataFunc({\r\n        data: dataRaw,\r\n        VKToption: VKToption,\r\n        PV_CellNominalEffiency: PV_CellNominalEffiency/100,\r\n        cellArea_ratio: cellArea_ratio/100,\r\n        caseOption:caseOption,\r\n        PV_performanceRatio:PV_performanceRatio/100,\r\n        useStat: false,\r\n        })\r\n    \r\n    const [legHov, onLegHov] = useState(null)\r\n    const [legClick, onLegClick] = useState(null)\r\n    \r\n    const [graph, setGraph] = useState(attributes[1])\r\n\r\n\r\n    const changingGraph = (temp) => {\r\n        onLegClick(null)\r\n        onLegHov(null)\r\n        setGraph(temp)\r\n    }\r\n\r\n    return (\r\n    <Flex \r\n        className=\"column\"\r\n        borderWidth=\"0px\" \r\n        direction=\"column\" \r\n        width=\"100%\" \r\n        alignItems=\"center\" \r\n        justifyContent=\"center\"\r\n        >\r\n        <Flex mt=\"2%\" width=\"90%\">\r\n        <Dropdown\r\n            label = {\"Select Graph:\"}\r\n            options={attributes}\r\n            id = {'menuDrop'}\r\n            selectedValue={graph}\r\n            onSelectedValueChange={changingGraph}\r\n            width={\"100%\"}\r\n            tooltip = {\"Here you can select different graphs to look at.\"}\r\n        />\r\n        </Flex>\r\n        <Text height=\"120\" display={{base:\"none\", \"500px\":\"content\"}} paddingInline=\"2%\" marginBlock=\"1%\" marginInline=\"8%\" background=\"white\">\r\n        {\r\n            desc[attributes.indexOf(graph)]\r\n        }\r\n        </Text>\r\n        <Box id=\"box\" flex=\"1\" height=\"auto\" width=\"auto\" >\r\n            <GraphSelector\r\n                onClicked ={onClicked}\r\n                dataOriginal={dataOriginal}\r\n                graph={graph}\r\n                graphWidth = {graphWidth}\r\n                dataLength = {dataLength}\r\n                legHov = {legHov}\r\n                onLegHov = {onLegHov}\r\n                legClick = {legClick}\r\n                onLegClick = {onLegClick}\r\n                attributes = {attributes}\r\n            />\r\n        </Box>\r\n    </Flex>\r\n)\r\n    };","import {\r\n  Flex,\r\n  Slider,\r\n  SliderTrack,\r\n  SliderFilledTrack,\r\n  SliderThumb,\r\n  NumberInput,\r\n  NumberInputField,\r\n  Button,\r\n  Popover,\r\n  PopoverTrigger,\r\n  PopoverContent,\r\n  PopoverArrow,\r\n  Tooltip,\r\n  Center,\r\n  Icon,\r\n} from \"@chakra-ui/react\"\r\nimport { useState } from \"react\";\r\nimport { Dropdown } from \"./DropdownChak\";\r\nimport {AiOutlineInfoCircle} from 'react-icons/ai'\r\nexport const CaseSelector = ({\r\n    options,\r\n    selectedValue,\r\n    onSelectedValueChange,\r\n    label,\r\n    tooltip\r\n}) => {\r\n\r\nconst [valueChange, onValueChange] = useState(selectedValue[2])\r\nconst [valueChange1, onValueChange1] = useState(selectedValue[3])\r\nconst dropChange = d => {\r\n    let p = selectedValue[2]\r\n    let q = selectedValue[3]\r\n    let temp = [d,false,p,q]\r\n    onSelectedValueChange(temp)\r\n}\r\nreturn (\r\n    <Flex className=\"buttonSpace\" width='90%'>\r\n    <Flex className=\"column\" width = \"40%\"  justifyContent=\"center\">\r\n    <Dropdown\r\n        label = {label}\r\n        options={options}\r\n        id = {'menuDrop'}\r\n        selectedValue={selectedValue[0]}\r\n        onSelectedValueChange={dropChange}\r\n        width={\"90%\"}\r\n        tooltip = {tooltip}\r\n    />\r\n    </Flex>\r\n    <Center width =\"20%\">\r\n    <Popover>\r\n    <PopoverTrigger>\r\n     <Button \r\n        colorScheme={\"green\"}\r\n        width=\"100%\" \r\n        height={10} \r\n        fontSize={\"0.9rem\"} \r\n        marginInline=\"2%\" \r\n        className=\"buttonSpace\" \r\n        >\r\n        Custom\r\n     </Button>\r\n     </PopoverTrigger>\r\n     <PopoverContent width=\"600px\">\r\n     <PopoverArrow />\r\n    <Flex className=\"buttonSpace\" width='100%' >\r\n    <label style={{paddingTop:\"6px\"}} display=\"flex\" flex-direction=\"row\"> {\"EV Energy Consumption:\"} </label>\r\n        <Slider\r\n            width=\"40%\" \r\n            marginInline=\"auto\"\r\n            focusThumbOnChange={false} \r\n            min={100} \r\n            max={300}\r\n            value={valueChange} \r\n            onChange = {(val) => onValueChange(val)}\r\n            onChangeEnd={(val) => {\r\n            let d = selectedValue[0]\r\n            let q = selectedValue[3]\r\n            let temp = [d,true,val,q]\r\n            onSelectedValueChange(temp)\r\n            }}>\r\n            <SliderTrack bg=\"blue.100\">\r\n                <SliderFilledTrack />\r\n            </SliderTrack>\r\n            <SliderThumb boxSize={3.5} />\r\n        </Slider>\r\n            <NumberInput\r\n                 min={100} \r\n                 max={300}  \r\n                 width=\"100px\" \r\n                 value={valueChange + 'Wh/km'}\r\n                 marginLeft = \"auto\" \r\n                 onChange={ (val) => {\r\n                 onValueChange(val)\r\n                 }}\r\n                 onBlur={ () => {\r\n                    let d = selectedValue[0]\r\n                    let q = selectedValue[3]\r\n                    let temp = [d,true,valueChange,q]\r\n                    onSelectedValueChange(temp)\r\n                    }} > \r\n                <NumberInputField bg=\"white\" style={{padding:0 }}/>\r\n            </NumberInput>\r\n    </Flex>\r\n    <Flex className=\"buttonSpace\" width='100%' >\r\n    <label style={{paddingTop:\"6px\"}} display=\"flex\" flex-direction=\"row\"> {\"EV Vehicle Footprint:\"} </label>\r\n        <Slider\r\n            width=\"40%\" \r\n            marginInline=\"auto\"\r\n            focusThumbOnChange={false} \r\n            min={2} \r\n            max={5}\r\n            value={valueChange1} \r\n            onChange = {(val) => onValueChange1(val)}\r\n            onChangeEnd={(val) => {\r\n            let d = selectedValue[0]\r\n            let q = selectedValue[2]\r\n            let temp = [d,true,q,val]\r\n            onSelectedValueChange(temp)\r\n            }}>\r\n            <SliderTrack bg=\"blue.100\">\r\n                <SliderFilledTrack />\r\n            </SliderTrack>\r\n            <SliderThumb boxSize={3.5} />\r\n        </Slider>\r\n            <NumberInput\r\n                 min={2} \r\n                 max={5} \r\n                 marginLeft=\"auto\"\r\n                 width=\"100px\" \r\n                 value={valueChange1 + 'm'}\r\n                 onChange={ (val) => {\r\n                 onValueChange1(val)\r\n                 }}\r\n                 onBlur={ () => {\r\n                    let d = selectedValue[0]\r\n                    let q = selectedValue[2]\r\n                    let temp = [d,true,q,valueChange1]\r\n                    onSelectedValueChange(temp)\r\n                    }} > \r\n                <NumberInputField bg=\"white\" style={{padding:0 }}/>\r\n            </NumberInput>\r\n    </Flex>\r\n    </PopoverContent>\r\n    </Popover>\r\n    </Center>\r\n    </Flex>\r\n)\r\n\r\n}\r\nexport const VKTSelector = ({\r\n    selectedValue, \r\n    onSelectedValueChange,\r\n    min,\r\n    max, \r\n    label, \r\n    tooltip,\r\n}) => {\r\n    const [valueChange, onValueChange] = useState(selectedValue[0])\r\n    return (\r\n    <>\r\n    <Flex className=\"buttonSpace\" width='90%'>\r\n    <Center>\r\n     <label width=\"25%\" display=\"flex\" flex-direction=\"row\"> {label} </label>\r\n            <Tooltip hasArrow  textAlign=\"top\" label={tooltip} padding=\"10px\" borderRadius='7px' >\r\n            <Center w=\"20px\" h=\"20px\" verticalAlign=\"middle\">\r\n            <Icon as={AiOutlineInfoCircle} paddingBottom=\"1px\" marginInline=\"5px\" _hover={{opacity:0.3}}/> \r\n            </Center>\r\n            </Tooltip>\r\n            </Center>\r\n     <Button \r\n        colorScheme=\"green\" \r\n        width=\"35%\" \r\n        marginInline=\"2%\" \r\n        fontSize={\"0.9rem\"}\r\n        className=\"buttonSpace\" \r\n        onClick ={() => onSelectedValueChange([16000,true])}\r\n     > \r\n        {document.body.clientWidth/11 > 90 ?\"Region Specific\":\"Region\"} \r\n     </Button>\r\n\r\n    <Popover>\r\n    <PopoverTrigger>\r\n     <Button \r\n        colorScheme=\"green\" \r\n        width=\"30%\" \r\n        fontSize={\"0.9rem\"} \r\n        marginInline=\"2%\" \r\n        className=\"buttonSpace\" \r\n        \r\n        >\r\n        {document.body.clientWidth/11 > 90 ?\"Custom Average\":\"Custom\"} \r\n     </Button>\r\n     </PopoverTrigger>\r\n     <PopoverContent width=\"300px\">\r\n     <PopoverArrow />\r\n    <Flex className=\"buttonSpace\" width='100%' >\r\n        <Slider\r\n            width=\"50%\" \r\n            marginInline=\"4%\"\r\n            focusThumbOnChange={false} \r\n            min={min} \r\n            max={max}\r\n            value={valueChange} \r\n            onChange = {(val) => onValueChange(val)}\r\n            onChangeEnd={(val) => {\r\n            onSelectedValueChange([val,false])\r\n            }}>\r\n            <SliderTrack bg=\"blue.100\">\r\n                <SliderFilledTrack />\r\n            </SliderTrack>\r\n            <SliderThumb boxSize={3.5} />\r\n        </Slider>\r\n            <NumberInput\r\n                 min={min} \r\n                 max={max}  \r\n                 width=\"40%\" \r\n                 value={valueChange + ' km'}\r\n                 marginInline=\"2%\" \r\n                 onChange={ (val) => {\r\n                 onValueChange(val)\r\n                 }}\r\n                 onBlur={ () => {\r\n                    onSelectedValueChange([valueChange,false])\r\n                    }} > \r\n                <NumberInputField bg=\"white\" style={{padding:0 }}/>\r\n            </NumberInput>\r\n    </Flex>\r\n    </PopoverContent>\r\n    </Popover>\r\n    </Flex>\r\n\r\n    </>\r\n    )\r\n\r\n}\r\n\r\nexport const Sliders2 = ({selectedValue, onSelectedValueChange,min,max, label,tooltip}) => {\r\n    const [valueChange, onValueChange] = useState(selectedValue)\r\n    return (\r\n    <>\r\n    <Flex className=\"buttonSpace\" verticalAlign=\"middle\"  width='90%'>\r\n    <label style={{paddingTop:\"6px\"}} width=\"100px\" display=\"flex\" flex-direction=\"row\"> {label} </label>\r\n            <Center paddingBottom=\"1px\">\r\n            <Tooltip  textAlign=\"top\" padding=\"7px\" borderRadius='7px' label={tooltip}>\r\n            <Center w=\"20px\" h=\"20px\" verticalAlign=\"middle\">\r\n             <Icon as={AiOutlineInfoCircle} marginInline=\"5px\" _hover={{opacity:0.3}}/> \r\n            </Center>\r\n            </Tooltip>\r\n            </Center>\r\n        <Slider \r\n            width=\"35%\" \r\n            ml=\"4%\" \r\n            mr=\"4%\" \r\n            focusThumbOnChange={false} \r\n            step={0.1} \r\n            min={min} \r\n            max={max}\r\n            value={valueChange} \r\n            onChange = {(val) => onValueChange(val)}\r\n            onChangeEnd={(val) => onSelectedValueChange(val)}\r\n        >\r\n            <SliderTrack bg=\"blue.100\">\r\n                <SliderFilledTrack />\r\n            </SliderTrack>\r\n            <SliderThumb boxSize={3.5} />\r\n        </Slider>\r\n            <NumberInput \r\n                min={min} \r\n                max={max}\r\n                precision={1}\r\n                width=\"60px\" \r\n                value={valueChange + '%'} \r\n                onChange={(val) => onValueChange(val)}\r\n                onBlur={ () => {\r\n                 onSelectedValueChange(valueChange)\r\n                 }}\r\n                 >\r\n                <NumberInputField bg=\"white\" style={{paddingRight:0, paddingLeft:\"10%\"}}/>\r\n            </NumberInput>\r\n    </Flex>\r\n    </>\r\n    )\r\n};\r\n","import {\r\n  Popover,\r\n  PopoverTrigger,\r\n  PopoverContent,\r\n  PopoverCloseButton,\r\n  PopoverArrow,\r\n  PopoverHeader,\r\n  Button,\r\n  PopoverBody,\r\n  PopoverFooter\r\n} from \"@chakra-ui/react\"\r\n\r\n\r\nimport {BsGearFill } from 'react-icons/bs'\r\nimport {FaGlobe,FaGlobeAsia,FaGlobeEurope} from \"react-icons/fa\"\r\nexport const MapOptions = ({\r\n    countries,\r\n    setCountries,\r\n    setMapClicked,\r\n    G20,\r\n    EUR,\r\n    ASIA,\r\n    onClose,\r\n    arraySame,\r\n    buttonWidth,\r\n}) => {\r\n    \r\n    let temp;\r\n    return (\r\n        <Popover>\r\n            <PopoverTrigger>\r\n                <Button \r\n                    marginInline={\"2%\"}\r\n                    colorScheme=\"teal\"\r\n                    leftIcon={<BsGearFill />}\r\n                > Selection Options </Button>\r\n            </PopoverTrigger>\r\n            <PopoverContent>\r\n            <PopoverArrow/>\r\n            <PopoverCloseButton />\r\n            <PopoverHeader>Selection by Group</PopoverHeader>\r\n            <PopoverBody>\r\n            <Button\r\n              alignSelf =\"center\"\r\n              margin={\"2%\"}\r\n              leftIcon={<FaGlobeEurope/>}\r\n              mr={3}\r\n              colorScheme=\"blue\" \r\n              onClick={() =>{\r\n                if (arraySame([EUR,countries]) || countries===[]) {\r\n                    setCountries(countries.filter( d => !EUR.includes(d)))}\r\n                 else { \r\n                     temp = EUR.filter( d => !countries.includes(d))\r\n                     setCountries([...countries,...temp])\r\n                   }\r\n                 setMapClicked(true)\r\n            }}>{arraySame([EUR,countries]) ?'Deselect Europe' :'Select All Europe'}\r\n            </Button>\r\n\r\n            <Button\r\n                alignSelf =\"center\"\r\n                leftIcon={<FaGlobe/>}\r\n                margin={\"2%\"}\r\n                mr={3}\r\n                colorScheme=\"orange\" \r\n                onClick={() =>{\r\n                  if (arraySame([G20,countries]) || countries===[]) {\r\n                    setCountries(countries.filter( d => !G20.includes(d)))}\r\n                  else { \r\n                      temp = G20.filter( d => !countries.includes(d))\r\n                      setCountries([...countries,...temp])\r\n                    }\r\n              setMapClicked(true)\r\n            }}>{arraySame([G20,countries]) ?'Deselect G20' :' Select All G20'}\r\n            </Button>\r\n            <Button\r\n                alignSelf =\"center\"\r\n                margin={\"2%\"}\r\n                leftIcon={<FaGlobeAsia/>}\r\n                mr={3}\r\n                colorScheme=\"green\" \r\n                onClick={() =>{\r\n                  if (arraySame([ASIA,countries]) || countries===[]) {\r\n                    setCountries(countries.filter( d => !ASIA.includes(d)))}\r\n                  else { \r\n                      temp = ASIA.filter( d => !countries.includes(d))\r\n                      setCountries([...countries,...temp])\r\n                    }\r\n              setMapClicked(true)\r\n            }}>{arraySame([ASIA,countries]) ?'Deselect Asia' :' Select All Asia'}\r\n            </Button>\r\n            </PopoverBody>\r\n            <PopoverFooter></PopoverFooter>\r\n            </PopoverContent>\r\n            </Popover>\r\n    )\r\n}","\r\nimport { MapOptions } from './MapOptions';\r\nimport {Countries} from './WorldCountries'\r\nimport { BsXSquareFill } from \"react-icons/bs\"\r\nimport {\r\n  Flex, \r\n  Box, \r\n  Button,\r\n  ModalHeader,\r\n  ModalFooter,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n} from  \"@chakra-ui/react\"\r\n\r\n\r\nconst arraySame = ([a,b]) => {\r\n\r\n  let truthCounter = 0;\r\n  if (a == null || b == null) return false\r\n  if ((a.length===0 && b.length!==0) || (a.length!==0 && b.length===0))\r\n    return false\r\n  else if (a.length===0 && b.length===0)\r\n    return true\r\n\r\n  for(let i=0; i<(a.length); i++) {\r\n      for(let j=0; j<(b.length); j++) {\r\n          if (a[i] === b[j])\r\n              truthCounter += 1;\r\n      }\r\n  }\r\n  if (truthCounter !== a.length) {\r\n    return false}\r\n  else return true\r\n}\r\n\r\nconst arraySimilar = ([a,b]) => {\r\n  if (a == null || b == null) return false\r\n  if ((a.length===0 && b.length!== 0) || (a.length!==0 && b.length===0))\r\n    return false\r\n  else if (a.length ===0 && b.length===0)\r\n    return true\r\n  \r\n  for(let i=0; i<(a.length); i++) {\r\n      for(let j=0; j<(b.length); j++) {\r\n          if (a[i] === b[j])\r\n              return true;\r\n      }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const WorldCreator = ({\r\n  setlength,\r\n  onClicked,\r\n  setOnClicked,\r\n  data,\r\n  onClose,\r\n  mapClicked,\r\n  setMapClicked,\r\n  countries,\r\n  setCountries,\r\n  regionsAvailable,\r\n\r\n}) => {\r\n\r\n    if (!data) {\r\n      return <pre>Loading...</pre>;\r\n    }\r\n    const G20 = [\"South Africa\", \"Indonesia\", \"Saudi Arabia\", \"Australia\", \"India\", \"China\", \"Japan\", \"South Korea\", \"Turkey\", \"Mexico\", \"United States of America\", \"Germany\", \"Russia\", \"Argentina\", \"Italy\", \"Europe\", \"United Kingdom\", \"Canada\", \"Brazil\", \"France\"];    \r\n    const EUR = [\"Turkey\",\"Germany\" ,\"Italy\", \"Europe\", \"United Kingdom\",\"France\",\"Russia\"]\r\n    const ASIA = [\"China\",\"India\",\"Indonesia\",\"Japan\",\"South Korea\",\"Russia\"];\r\n   \r\n\r\n    return (\r\n      <>\r\n          <ModalHeader >\r\n            Select a country: \r\n            <MapOptions\r\n                countries = {countries}\r\n                setCountries ={setCountries}\r\n                G20 = {G20}\r\n                EUR = {EUR}\r\n                ASIA = {ASIA}\r\n                onClose = {onClose}\r\n                arraySame = {arraySame}\r\n                setMapClicked = {setMapClicked}\r\n                buttonWidth = {\"50%\"}\r\n            />\r\n            <Button\r\n              mr={3}\r\n              leftIcon={<BsXSquareFill />}\r\n              colorScheme=\"red\" \r\n              onClick={() => {\r\n                setCountries([])\r\n                setMapClicked(true)\r\n              }}>\r\n                Clear Selection\r\n            </Button>\r\n          </ModalHeader>\r\n          <ModalCloseButton />\r\n          <ModalBody height=\"100%\" >\r\n\r\n            <Flex  display=\"flex\" flex-direction=\"column\" height=\"100%\" width=\"100%\" >\r\n              <Box className=\"map-div\" flex=\"1\" height=\"100%\" width=\"100%\">\r\n              <div className=\"map-tooltip\"></div>\r\n              <svg className = \"map-container\" id = \"map-container\" height=\"100%\" width=\"100%\">\r\n                <g className=\"shapes\">\r\n                <Countries\r\n                  data = {data}\r\n                  countries = {countries}\r\n                  setCountries = {setCountries}\r\n                  mapClicked = {mapClicked}\r\n                  setMapClicked = {setMapClicked}\r\n                  regionsAvailable = {regionsAvailable}\r\n                  />\r\n                </g>\r\n              </svg>\r\n              </Box>\r\n            </Flex>\r\n            \r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button\r\n            mr={3}\r\n            colorScheme=\"teal\" \r\n            onClick={() => {\r\n              setlength(onClicked.length)\r\n              setOnClicked(countries)\r\n              onClose()\r\n              }}>\r\n             <a href =\"#graphArea\">Continue</a>\r\n            </Button>\r\n          </ModalFooter>\r\n        </>\r\n    )};","\r\nimport { MapOptions } from '../World/MapOptions';\r\nimport {UStates} from './uStates'\r\nimport { BsXSquareFill } from \"react-icons/bs\"\r\nimport {\r\n  Flex, \r\n  Box, \r\n  Button,\r\n  ModalHeader,\r\n  ModalFooter,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n} from  \"@chakra-ui/react\"\r\n\r\n\r\nconst arraySame = ([a,b]) => {\r\n\r\n  let truthCounter = 0;\r\n  if (a == null || b == null) return false\r\n  if ((a.length===0 && b.length!==0) || (a.length!==0 && b.length===0))\r\n    return false\r\n  else if (a.length===0 && b.length===0)\r\n    return true\r\n\r\n  for(let i=0; i<(a.length); i++) {\r\n      for(let j=0; j<(b.length); j++) {\r\n          if (a[i] === b[j])\r\n              truthCounter += 1;\r\n      }\r\n  }\r\n  if (truthCounter !== a.length) {\r\n    return false}\r\n  else return true\r\n}\r\n\r\nconst arraySimilar = ([a,b]) => {\r\n  if (a == null || b == null) return false\r\n  if ((a.length===0 && b.length!== 0) || (a.length!==0 && b.length===0))\r\n    return false\r\n  else if (a.length ===0 && b.length===0)\r\n    return true\r\n  \r\n  for(let i=0; i<(a.length); i++) {\r\n      for(let j=0; j<(b.length); j++) {\r\n          if (a[i] === b[j])\r\n              return true;\r\n      }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const StatesCreator = ({\r\n  setlength,\r\n  onClicked,\r\n  setOnClicked,\r\n  data,\r\n  onClose,\r\n  mapClicked,\r\n  setMapClicked,\r\n  countries,\r\n  setCountries,\r\n  regionsAvailable,\r\n\r\n}) => {\r\n\r\n    if (!data) {\r\n      return <pre>Loading...</pre>;\r\n    }\r\n    const G20 = [\"South Africa\", \"Indonesia\", \"Saudi Arabia\", \"Australia\", \"India\", \"China\", \"Japan\", \"South Korea\", \"Turkey\", \"Mexico\", \"United States of America\", \"Germany\", \"Russia\", \"Argentina\", \"Italy\", \"Europe\", \"United Kingdom\", \"Canada\", \"Brazil\", \"France\"];    \r\n    const EUR = [\"Turkey\",\"Germany\" ,\"Italy\", \"Europe\", \"United Kingdom\",\"France\",\"Russia\"]\r\n    const ASIA = [\"China\",\"India\",\"Indonesia\",\"Japan\",\"South Korea\",\"Russia\"];\r\n   \r\n\r\n    return (\r\n      <>\r\n          <ModalHeader >\r\n            Select a State: \r\n            <Button\r\n              marginInline={3}\r\n              leftIcon={<BsXSquareFill />}\r\n              colorScheme=\"red\" \r\n              onClick={() => {\r\n                setCountries([])\r\n                setMapClicked(true)\r\n              }}>\r\n                Clear Selection\r\n            </Button>\r\n          </ModalHeader>\r\n          <ModalCloseButton />\r\n          <ModalBody height=\"100%\" >\r\n\r\n            <Flex  display=\"flex\" flex-direction=\"column\" height=\"100%\" width=\"100%\" >\r\n              <Box flex=\"1\" height=\"100%\" width=\"100%\">\r\n              <div className=\"map-tooltip\"></div>\r\n              <svg className = \"map-container\" id = \"map-container\" height=\"100%\" width=\"100%\">\r\n                <g className=\"shapes\">\r\n                <UStates\r\n                  data={data}\r\n                  countries = {countries}\r\n                  setCountries = {setCountries}\r\n                  mapClicked = {mapClicked}\r\n                  setMapClicked = {setMapClicked}\r\n                  regionsAvailable = {regionsAvailable}\r\n                  />\r\n                </g>\r\n              </svg>\r\n              </Box>\r\n            </Flex>\r\n            \r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button\r\n            mr={3}\r\n            colorScheme=\"teal\" \r\n            onClick={() => {\r\n              setlength(onClicked.length)\r\n              setOnClicked(countries)\r\n              onClose()\r\n              }}>\r\n             <a href =\"#graphArea\">Continue</a>\r\n            </Button>\r\n          </ModalFooter>\r\n        </>\r\n    )};","import {\r\n  Popover,\r\n  PopoverTrigger,\r\n  PopoverContent,\r\n  PopoverCloseButton,\r\n  PopoverArrow,\r\n  PopoverHeader,\r\n  Button,\r\n  PopoverBody,\r\n  PopoverFooter\r\n} from \"@chakra-ui/react\"\r\n\r\n\r\nimport {BsGearFill } from 'react-icons/bs'\r\nimport {FaGlobe,FaGlobeEurope} from \"react-icons/fa\"\r\nexport const MapOptions = ({\r\n    countries,\r\n    setCountries,\r\n    setMapClicked,\r\n    G20EUR,\r\n    arraySame,\r\n}) => {\r\n    \r\n    let temp;\r\n    return (\r\n        <Popover>\r\n            <PopoverTrigger>\r\n                <Button \r\n                    marginInline={\"2%\"}\r\n                    colorScheme=\"teal\"\r\n                    leftIcon={<BsGearFill />}\r\n                > Selection Options </Button>\r\n            </PopoverTrigger>\r\n            <PopoverContent>\r\n            <PopoverArrow/>\r\n            <PopoverCloseButton />\r\n            <PopoverHeader>Selection by Group</PopoverHeader>\r\n            <PopoverBody>\r\n\r\n            <Button\r\n                alignSelf =\"center\"\r\n                leftIcon={<FaGlobe/>}\r\n                margin={\"2%\"}\r\n                mr={3}\r\n                colorScheme=\"orange\" \r\n                onClick={() =>{\r\n                  if (arraySame([G20EUR,countries]) || countries===[]) {\r\n                    setCountries(countries.filter( d => !G20EUR.includes(d)))}\r\n                  else { \r\n                      temp = G20EUR.filter( d => !countries.includes(d))\r\n                      setCountries([...countries,...temp])\r\n                    }\r\n              setMapClicked(true)\r\n            }}>{arraySame([G20EUR,countries]) ?'Deselect G20' :' Select G20'}\r\n            </Button>\r\n            \r\n            </PopoverBody>\r\n            <PopoverFooter></PopoverFooter>\r\n            </PopoverContent>\r\n            </Popover>\r\n    )\r\n}","\r\nimport { MapOptions } from './MapOptions';\r\nimport {Countries} from './EuroCountries'\r\nimport { BsXSquareFill } from \"react-icons/bs\"\r\nimport {\r\n  Flex, \r\n  Box, \r\n  Button,\r\n  ModalHeader,\r\n  ModalFooter,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n} from  \"@chakra-ui/react\"\r\n\r\n\r\nconst arraySame = ([a,b]) => {\r\n\r\n  let truthCounter = 0;\r\n  if (a == null || b == null) return false\r\n  if ((a.length===0 && b.length!==0) || (a.length!==0 && b.length===0))\r\n    return false\r\n  else if (a.length===0 && b.length===0)\r\n    return true\r\n\r\n  for(let i=0; i<(a.length); i++) {\r\n      for(let j=0; j<(b.length); j++) {\r\n          if (a[i] === b[j])\r\n              truthCounter += 1;\r\n      }\r\n  }\r\n  if (truthCounter !== a.length) {\r\n    return false}\r\n  else return true\r\n}\r\n\r\nconst arraySimilar = ([a,b]) => {\r\n  if (a == null || b == null) return false\r\n  if ((a.length===0 && b.length!== 0) || (a.length!==0 && b.length===0))\r\n    return false\r\n  else if (a.length ===0 && b.length===0)\r\n    return true\r\n  \r\n  for(let i=0; i<(a.length); i++) {\r\n      for(let j=0; j<(b.length); j++) {\r\n          if (a[i] === b[j])\r\n              return true;\r\n      }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const EuropeCreator = ({\r\n  setlength,\r\n  onClicked,\r\n  setOnClicked,\r\n  data,\r\n  onClose,\r\n  mapClicked,\r\n  setMapClicked,\r\n  countries,\r\n  setCountries,\r\n  width,\r\n  height,\r\n  regionsAvailable,\r\n\r\n}) => {\r\n\r\n    if (!data) {\r\n      return <pre>Loading...</pre>;\r\n    }\r\n    \r\n    const G20EUR = [\"Turkey\",\"Germany\" ,\"Italy\", \"Europe\", \"United Kingdom\",\"France\",\"Russia\"]\r\n   \r\n\r\n    return (\r\n      <>\r\n          <ModalHeader >\r\n            Select a country: \r\n            <MapOptions\r\n                countries = {countries}\r\n                setCountries ={setCountries}\r\n                G20EUR = {G20EUR}\r\n                onClose = {onClose}\r\n                arraySame = {arraySame}\r\n                setMapClicked = {setMapClicked}\r\n                buttonWidth = {\"50%\"}\r\n            />\r\n            <Button\r\n              mr={3}\r\n              leftIcon={<BsXSquareFill />}\r\n              colorScheme=\"red\" \r\n              onClick={() => {\r\n                setCountries([])\r\n                setMapClicked(true)\r\n              }}>\r\n                Clear Selection\r\n            </Button>\r\n          </ModalHeader>\r\n          <ModalCloseButton />\r\n          <ModalBody height=\"100%\" >\r\n\r\n            <Flex  display=\"flex\" flex-direction=\"column\" height=\"100%\" width=\"100%\" >\r\n              <Box className=\"map-div\" flex=\"1\" height=\"100%\" width=\"100%\">\r\n              <div className=\"map-tooltip\"></div>\r\n              <svg className = \"map-container\" id = \"map-container\" height=\"100%\" width=\"100%\">\r\n                <g className=\"shapes\">\r\n                <Countries\r\n                  data = {data}\r\n                  countries = {countries}\r\n                  setCountries = {setCountries}\r\n                  mapClicked = {mapClicked}\r\n                  setMapClicked = {setMapClicked}\r\n                  height = {height}\r\n                  width = {width}\r\n                  regionsAvailable = {regionsAvailable}\r\n                  />\r\n                </g>\r\n              </svg>\r\n              </Box>\r\n            </Flex>\r\n            \r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button\r\n            mr={3}\r\n            colorScheme=\"teal\" \r\n            onClick={() => {\r\n              setlength(onClicked.length)\r\n              setOnClicked(countries)\r\n              onClose()\r\n              }}>\r\n             <a href =\"#graphArea\">Continue</a>\r\n            </Button>\r\n          </ModalFooter>\r\n        </>\r\n    )};","import { WorldCreator } from \"./World/WorldCreator\"\r\nimport {StatesCreator} from \"./States/StatesCreator\"\r\nimport {EuropeCreator} from \"./Europe/EuropeCreator\"\r\n\r\nexport const ModalSelector = ({\r\n    setlength,\r\n    onClicked,\r\n    setOnClicked,\r\n    data,\r\n    onClose,\r\n    mapClicked,\r\n    setMapClicked,\r\n    countries,\r\n    setCountries,\r\n    mapSelect,\r\n    width,\r\n    height,\r\n}) => {\r\n    const regionsAvailable = [\"South Africa\", \"Indonesia\", \"Saudi Arabia\", \"Australia\", \"India\", \"China\", \"Japan\", \"South Korea\", \"Turkey\", \"Mexico\", \"United States of America\", \"Germany\", \"Russia\", \"Argentina\", \"Italy\", \"Europe\", \"United Kingdom\", \"Canada\", \"Brazil\", \"France\"];    \r\n    if (mapSelect === \"World\")\r\n    return (\r\n        <WorldCreator\r\n            setlength = {setlength}\r\n            onClicked = {onClicked}\r\n            setOnClicked = {setOnClicked}\r\n            data = {data}\r\n            onClose = {onClose}\r\n            mapClicked = {mapClicked}\r\n            setMapClicked= {setMapClicked}\r\n            countries = {countries}\r\n            setCountries = {setCountries}\r\n            regionsAvailable = {regionsAvailable}\r\n        />\r\n    )\r\n    else if (mapSelect === \"United States\")\r\n    return(\r\n        <StatesCreator\r\n            setlength = {setlength}\r\n            onClicked = {onClicked}\r\n            setOnClicked = {setOnClicked}\r\n            data = {data}\r\n            onClose = {onClose}\r\n            mapClicked = {mapClicked}\r\n            setMapClicked= {setMapClicked}\r\n            countries = {countries}\r\n            setCountries = {setCountries}\r\n            regionsAvailable = {regionsAvailable}\r\n        />\r\n    )\r\n    else if (mapSelect === \"Europe\")\r\n    return (\r\n        <EuropeCreator\r\n            setlength = {setlength}\r\n            onClicked = {onClicked}\r\n            setOnClicked = {setOnClicked}\r\n            data = {data}\r\n            onClose = {onClose}\r\n            mapClicked = {mapClicked}\r\n            setMapClicked= {setMapClicked}\r\n            countries = {countries}\r\n            setCountries = {setCountries}\r\n            height={height}\r\n            width= {width}\r\n            regionsAvailable = {regionsAvailable}\r\n        />\r\n    )\r\n}","import {useData} from './mapData'\r\nimport {Dropdown} from '../UI/DropdownChak'\r\n\r\nimport { useState } from 'react';\r\nimport {\r\n  Flex, \r\n  Center,\r\n  Button,\r\n  Modal,\r\n  ModalOverlay,\r\n  ModalContent,\r\n  useDisclosure,\r\n} from  \"@chakra-ui/react\"\r\n\r\nimport { ModalSelector } from './ModalSelector';\r\n\r\nexport const MapCreator = ({\r\n    setlength,\r\n    onClicked,\r\n    setOnClicked,\r\n    modalHeight,\r\n  tooltip,\r\n}) => {\r\n\r\n    const data = useData();\r\n\r\n    const { isOpen, onOpen, onClose } = useDisclosure()\r\n    const [mapClicked, setMapClicked] = useState(false)\r\n\r\n    const [countries, setCountries] = useState(onClicked)\r\n\r\n    const [mapSelect, onMapSelect] = useState(\"World\")\r\n    const attributes = [\r\n        {type: \"World\", title:\"Country\"},\r\n        {type: \"United States\", title:\"State\"},\r\n        {type: \"Europe\", title:\"Country\"}\r\n      ] ;\r\n\r\n    return (\r\n    <>\r\n    <Flex className=\"buttonSpace\" width='90%'>\r\n    <Flex className=\"column\" width = \"40%\"  justifyContent=\"center\">\r\n    <Dropdown\r\n      label = {\"Select Map:\"}\r\n      options={attributes.reduce((array, obj) => (array.push(obj.type), array), [])}\r\n      id = {'menuDrop'}\r\n      selectedValue={mapSelect}\r\n      onSelectedValueChange={onMapSelect}\r\n      width={\"90%\"}\r\n      tooltip = {tooltip}\r\n    />\r\n    </Flex>\r\n    <Center>\r\n    <Button \r\n      width = \"100%\"\r\n      //colorScheme=\"purple\"\r\n      bg = \"purple.500\"\r\n      color = \"white\"\r\n      _hover={{ bg: \"purple.700\" }}\r\n      _focus={{ boxShadow: \"outline\" }}\r\n      onClick={() => {\r\n        onOpen()\r\n        setMapClicked(false)\r\n    }}>Select {attributes[attributes.reduce((array, obj) => (array.push(obj.type), array), []).indexOf(mapSelect)].title}</Button>\r\n    </Center>\r\n    </Flex>\r\n\r\n    <Modal isOpen={isOpen} onClose={onClose} >\r\n        <ModalOverlay/>\r\n        <ModalContent maxW={document.body.clientWidth/2} height={modalHeight}>\r\n          <ModalSelector\r\n            setlength = {setlength}\r\n            onClicked = {onClicked}\r\n            setOnClicked = {setOnClicked}\r\n            data = {data}\r\n            onClose = {onClose}\r\n            mapClicked = {mapClicked}\r\n            setMapClicked= {setMapClicked}\r\n            countries = {countries}\r\n            setCountries = {setCountries}\r\n            mapSelect = {mapSelect}\r\n            height = {modalHeight}\r\n            width = {document.body.clientWidth/2}\r\n          />\r\n        </ModalContent>\r\n    </Modal>\r\n    </>)}","import { useState, useEffect } from 'react';\r\nimport { json } from 'd3';\r\nimport { feature } from 'topojson';\r\n\r\nconst worldUrl = 'https://unpkg.com/world-atlas@2.0.2/countries-50m.json';\r\nconst stateURL = 'https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json';\r\n\r\nexport const useData = () => {\r\n  const [data, setData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    json(worldUrl).then((world) => {\r\n      json(stateURL).then((states) => {\r\n\r\n      setData({\r\n        state: feature(states, states.objects.states),\r\n        country: feature(world, world.objects.countries),\r\n        \r\n      });\r\n    });\r\n  })\r\n  }, []);\r\n\r\n  return data;\r\n};\r\n","import { Flex,Text,Icon,Tooltip } from \"@chakra-ui/react\"\r\nimport {AiOutlineInfoCircle} from \"react-icons/ai\"\r\n\r\nexport const InfoCalc = ({totalCellArea,nominalPower,vehicle_footprint_m2,graphWidth}) => {\r\n    return (\r\n        <Flex background=\"#003E74\" color=\"white\" alignSelf=\"center\" fontWeight=\"bold\" width=\"100%\" height={(graphWidth>580)?(\"10px\"):((graphWidth>520)?(\"70px\"):(\"100px\"))} paddingBlock=\"30px\" display=\"flex\" direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n           <Text paddingInline=\"20px\" textAlign=\"center\">{`PV Nominal Power: ${nominalPower.toFixed(2)} Wp`}  </Text> \r\n            <Text paddingInline=\"20px\" textAlign=\"center\">{` EV Area available for PV Integration: ${vehicle_footprint_m2.toFixed(2)} m`}</Text>\r\n            <Text paddingInline=\"20px\" textAlign=\"center\">{` Total Cell-Area: ${totalCellArea.toFixed(2)} m`}</Text>\r\n            <Tooltip hasArrow  textAlign=\"top\" padding=\"10px\" borderRadius='7px' label={\"Nominal power refers to the power output of the EV with PV, and the cell-area refers to the area of the car covered by PV cells. These variables are used are calculated from the variables above.\"}>\r\n            <span>\r\n            <Icon as={AiOutlineInfoCircle} paddingBottom=\"1px\" marginInline=\"5px\" _hover={{opacity:0.3}}/> \r\n            </span>\r\n            </Tooltip>\r\n        </Flex>\r\n    )\r\n}","\r\nimport { \r\n  Flex,\r\n  Heading,\r\n  Center \r\n} from \"@chakra-ui/react\" \r\n\r\n\r\n\r\nimport {VKTSelector, Sliders2, CaseSelector} from './SliderChak'\r\nimport {MapCreator} from '../Map/MapCreator'\r\nimport { InfoCalc } from \"./infoCalc\"\r\nexport const UIMaker = ({\r\n  onClicked,\r\n  setOnClicked,\r\n  caseOption,\r\n  setCaseOption,\r\n  VKToption,\r\n  setVKTOption,\r\n  PV_performanceRatio,\r\n  setPV_performanceRatio,\r\n  PV_CellNominalEffiency,\r\n  setPV_CellNominalEffiency,\r\n  cellArea_ratio,\r\n  setCellArea_ratio,\r\n  modalHeight,\r\n  setlength,\r\n  graphWidth,\r\n}) => {\r\n\r\n  const caseArray = ['High Case','Medium Case','Low Case'];\r\n  const energy_consumption_Wh_km  = [280,200,150]\r\n  const vehicle_footprint_m2Array = [4.3,4.3,3.68]\r\n  const PV_cellarea_cm2 = 153.3;\r\n  const STCirradiance_W_m2 = 1000;\r\n  const evCaseSelect = caseArray.indexOf(caseOption[0])\r\n  let EV_Eff_Wh_km;\r\n  let vehicle_footprint_m2;\r\n  if (caseOption[1] === false) {\r\n    EV_Eff_Wh_km = energy_consumption_Wh_km[evCaseSelect]\r\n    vehicle_footprint_m2 =  vehicle_footprint_m2Array[evCaseSelect]\r\n   }\r\n   else {\r\n   EV_Eff_Wh_km = caseOption[2]\r\n    vehicle_footprint_m2 =  caseOption[3]\r\n   }\r\n const PV_totalCellArea = vehicle_footprint_m2*cellArea_ratio/100\r\n const cellNumber = Math.floor(PV_totalCellArea*10000/PV_cellarea_cm2)\r\n const PV_CellNominalPower = PV_CellNominalEffiency/100*STCirradiance_W_m2*PV_cellarea_cm2/10000;\r\n const PV_arrayNominalPower = PV_CellNominalPower * cellNumber;\r\nreturn (\r\n  <Flex \r\n    className=\"UI-box\"\r\n    borderRadius=\"none\"\r\n    borderWidth=\"1px\"\r\n    borderColor=\"grey.100\"\r\n    direction=\"column\" \r\n    width=\"100%\"\r\n    alignItems=\"center\" \r\n    justifyContent=\"center\"\r\n    bg=\"#fbfbfb\" \r\n    padding = \"0%\" \r\n  >\r\n    <Center width=\"100%\" height=\"70px\"bg=\"#003E74\" color=\"white\"> \r\n    <Heading fontSize=\"14pt\"> Choose your Options: </Heading>\r\n    </Center>\r\n    <MapCreator\r\n        setlength = {setlength}\r\n        setOnClicked = {setOnClicked}\r\n        modalHeight  = {modalHeight}\r\n        onClicked = {onClicked}\r\n        tooltip = {\"Here you can select which countries to look at on the map. Click the select button to open it up.\"}\r\n    />        \r\n\r\n    <CaseSelector\r\n        label = {\"Select EV Type:\"}\r\n        options={caseArray}\r\n        selectedValue={caseOption}\r\n        onSelectedValueChange={setCaseOption}\r\n        tooltip = {\"Here you can select the vehicle footprint and efficency either by low-high or custom\"}\r\n    />\r\n    \r\n    <VKTSelector \r\n      label={'VKT per year:'}\r\n      min={12000} \r\n      max={21000} \r\n      selectedValue = {VKToption}\r\n      onSelectedValueChange = {setVKTOption}\r\n      tooltip = {\"Here you can select the vehicle kilometres travelled: either specific for each region or a universal custom average\"}\r\n      />\r\n    <Sliders2 \r\n      label={'Performance Ratio:'}\r\n      min={40} \r\n      max={95}\r\n      selectedValue = {PV_performanceRatio}\r\n      onSelectedValueChange = {setPV_performanceRatio}\r\n      tooltip = {\"This sets the cell performance ratio: the ratio between the theoretical and actual output of the cell.\"}\r\n    />\r\n    <Sliders2 \r\n      label={'PV Cell Efficiency:'}\r\n      min={15} \r\n      max={35} \r\n      selectedValue = {PV_CellNominalEffiency}\r\n      onSelectedValueChange = {setPV_CellNominalEffiency}\r\n      tooltip = {\"Select how efficient one photovoltaic cell is, i.e. energy losses.\"}\r\n    />\r\n    <Sliders2 \r\n      label={'Cell-Area Ratio:'}\r\n      min={70} \r\n      max={95} \r\n      selectedValue = {cellArea_ratio}\r\n      onSelectedValueChange = {setCellArea_ratio}\r\n      tooltip = {\"Choose how much of the car's footprint is covered by PV cells.\"}\r\n    />\r\n    <InfoCalc\r\n        totalCellArea = {PV_totalCellArea}\r\n        nominalPower = {PV_arrayNominalPower}\r\n        vehicle_footprint_m2 = {vehicle_footprint_m2}\r\n        graphWidth = {graphWidth}\r\n    />\r\n  </Flex>\r\n)}","import {Flex} from '@chakra-ui/react' \r\nimport { useState } from 'react';\r\n\r\nimport { GraphArea } from \"./GraphSegment\";\r\nimport { UIMaker } from \"../../UI/UI\";\r\n\r\nexport const MainModel = ({\r\n    graphWidth,\r\n    dataRaw,\r\n    modalHeight,\r\n    text,\r\n}) => {\r\n\r\nconst [onClicked,setOnClicked] = useState(['United States of America'])\r\nconst [dataLength,setlength] = useState(onClicked.length)\r\n\r\nconst [caseOption,setCaseOption] = useState(['Medium Case',false,150,3])\r\nconst [VKToption, setVKTOption ] = useState([15000,false])\r\nconst [cellArea_ratio, setCellArea_ratio ] = useState(85)\r\nconst [PV_CellNominalEfficiency, setPV_CellNominalEfficiency ] = useState(25)\r\nconst [PV_performanceRatio, setPV_performanceRatio ] = useState(77.5)\r\n\r\nreturn (\r\n    <Flex className=\"row\" height=\"auto\" margin=\"2%\">\r\n        <Flex className=\"column\" width=\"40%\">\r\n          <UIMaker \r\n            onClicked={onClicked}\r\n            setOnClicked={setOnClicked}\r\n            caseOption={caseOption}\r\n            setCaseOption={setCaseOption}\r\n            VKToption={VKToption}\r\n            setVKTOption={setVKTOption}\r\n            PV_performanceRatio={PV_performanceRatio}\r\n            setPV_performanceRatio={setPV_performanceRatio}\r\n            PV_CellNominalEffiency = {PV_CellNominalEfficiency}\r\n            setPV_CellNominalEffiency = {setPV_CellNominalEfficiency}\r\n            cellArea_ratio = {cellArea_ratio}\r\n            setCellArea_ratio ={setCellArea_ratio}\r\n            modalHeight= {modalHeight}\r\n            setlength = {setlength}\r\n            graphWidth = {graphWidth}\r\n            />\r\n        </Flex>\r\n        <Flex className=\"column\" width=\"60%\">\r\n          <GraphArea\r\n            onClicked={onClicked}\r\n            graphWidth = {graphWidth}\r\n            dataLength  = {dataLength}\r\n            VKToption = {VKToption}\r\n            dataRaw = {dataRaw}\r\n            cellArea_ratio ={cellArea_ratio}\r\n            caseOption = {caseOption}\r\n            PV_performanceRatio ={PV_performanceRatio}\r\n            PV_CellNominalEffiency ={PV_CellNominalEfficiency}\r\n            text = {text}\r\n          />\r\n        </Flex>\r\n    </Flex>\r\n)\r\n}","\r\nexport const ColourLegend = ({\r\n    colorScale,\r\n    selection,\r\n    duration,\r\n    position,\r\n    data,\r\n    abbrev,\r\n    radius,\r\n    legHov,\r\n    onLegHov,\r\n    legClick,\r\n    onLegClick,\r\n  }) => {\r\n    const legend  = selection.selectAll('.legend')\r\n        .data([null])\r\n        .join('g')\r\n        .classed('legend',true)\r\n        .attr(\"transform\", `translate${position}`)\r\n        .style('z-index', '10')\r\n    legend\r\n    .selectAll(\".leg\")\r\n    .data(data)\r\n    .join((enter) => {\r\n       let g = enter.append(\"g\")\r\n        .classed(\"leg\", true)\r\n        .attr('transform',(d,i)=> `translate(0,${i*radius*4})`)\r\n\r\n        g.append('rect')\r\n        .attr('x', -radius * 2)\r\n        .attr('y', -radius * 2)\r\n        .attr('width', 60)\r\n        .attr('height', radius*4)\r\n        .style('fill','#fff')\r\n        .attr('opacity',0.1)\r\n\r\n        g.append(\"circle\")\r\n        .style(\"fill\",(d,i) => colorScale(i))\r\n        .attr(\"r\",0)\r\n\r\n        g.append('text')\r\n        .attr(\"opacity\",0)\r\n        .text(d => abbrev(d))\r\n        .attr(\"transform\", `translate(${radius*2 },0)`)\r\n        .attr(\"dy\",\".32em\")\r\n        \r\n        return g\r\n        },\r\n    (update) =>\r\n        update,\r\n      (exit) =>{\r\n      exit\r\n      .transition()\r\n      .duration(duration)\r\n      .remove()}\r\n    )\r\n    .on('mouseover',  d => {\r\n        onLegHov(abbrev(d.target.__data__))\r\n        })\r\n    .on('click', d => {\r\n        if (legClick !== abbrev(d.target.__data__)) {\r\n            onLegClick(abbrev(d.target.__data__))\r\n        }\r\n        else{\r\n            onLegClick(null)\r\n        }\r\n    })\r\n    .on('mouseout',\r\n        d => {\r\n            onLegHov(null)\r\n        })\r\n    .transition()\r\n    .duration(duration*0.1)\r\n    .attr('opacity', d => {\r\n        if (!legClick && !legHov)\r\n            {return 1}\r\n        else {\r\n            if (legClick === abbrev(d) || legHov === abbrev(d))\r\n            {return 1}\r\n                else {return 0.3}}\r\n    })\r\n    legend.selectAll(\".leg\").selectAll(\"circle\")\r\n        .transition()\r\n        .duration(duration)\r\n        .attr(\"r\",radius)\r\n\r\n    legend.selectAll(\".leg\").selectAll(\"text\")\r\n        .transition()\r\n        .duration(duration)\r\n        .attr(\"opacity\",1)\r\n}","import {\r\n    select,\r\n    scaleLinear,\r\n    axisBottom,\r\n    axisLeft,\r\n    max,\r\n    scaleOrdinal,\r\n    line,\r\n    selection,\r\n} from \"d3\";\r\n\r\n\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport { ColourLegend } from \"./colourLegend\";\r\n\r\nselection.prototype.moveToFront = function() {\r\n  return this.each(function(){\r\n  this.parentNode.appendChild(this);\r\n  });\r\n};\r\n\r\nexport const Linescatter = ({ \r\n    graphWidth,\r\n    dataOriginal,  \r\n    xAxisTitle,\r\n    yAxisTitle,\r\n    Title,\r\n    xValue,\r\n    yValue,\r\n    xTitleOffset,\r\n    yTitleOffset,\r\n    titleOffset,\r\n    colorTheme,\r\n    radius,\r\n    toolTipText1,\r\n    formatNumber1,\r\n    toolTipText2,\r\n    formatNumber2,\r\n    height,\r\n    abbrev,\r\n    legHov,\r\n    onLegHov,\r\n    legClick,\r\n    onLegClick,\r\n    chartColour,\r\n    axisSize,\r\n    margin,\r\n}) => {\r\n\r\n  const duration = 2000;\r\n  const width= graphWidth; \r\n  const data = dataOriginal.filter(d => xValue(d))\r\n  \r\n  const innerWidth = width - margin.left - margin.right;\r\n  const innerHeight = height - margin.top - margin.bottom;\r\n  const ref = useRef();\r\n  \r\n  let temp3 = [];\r\n\r\n  for(let j=0;j<data.length;j++){\r\n    let temp2 = []\r\n    for(let i=0;i<data[0].Year.length;i++){\r\n        let temp = {}\r\n        temp.Year= data[j].Year[i]\r\n        temp.EV_Usage_Emissions_Years= data[j].EV_Usage_Emissions_Years[i]\r\n        temp.PVonEV_usageEmissions_Years= data[j].PVonEV_usageEmissions_Years[i]\r\n        temp2.push(temp)\r\n      }\r\n    temp3.push(temp2)\r\n    }\r\n  const dataFormatted = temp3\r\n  useEffect(() => {\r\n    draw();\r\n  }, [data]); \r\n\r\n  const draw = () => {\r\n    let maxX =0;\r\n    let maxY = 0;\r\n\r\n    data.map( d => {\r\n    if (maxY < max(yValue(d)))\r\n      maxY = max(yValue(d))\r\n    if (maxX < max(xValue(d)))\r\n    maxX = max(xValue(d))\r\n    })\r\n\r\n\r\n    const xScale = scaleLinear()\r\n      .domain([0,maxX])\r\n      .range([0, innerWidth])\r\n      .nice();\r\n\r\n    const yScale = scaleLinear()\r\n      .domain([0, maxY])\r\n      .range([innerHeight, 0])\r\n      .nice();\r\n\r\n    const xAxis = axisBottom().scale(xScale).tickSizeInner(-innerHeight).tickPadding(10);\r\n\r\n    const yAxis = axisLeft().scale(yScale).tickSizeInner(-innerWidth).tickPadding(10);\r\n\r\n    const colorScale = scaleOrdinal(colorTheme);\r\n\r\n    const svg = select(ref.current);\r\n    const chart = svg.select(\"g\");\r\n\r\n    const tooltip = select('.tooltip')\r\n        .style('position', 'absolute')\r\n        .style('z-index', '10')\r\n        .style('visibility', 'hidden')\r\n        .style('padding', '10px')\r\n        .style('background', 'rgba(0,0,0,0.6)')\r\n        .style('border-radius', '4px')\r\n        .style('color', '#fff')\r\n        .text('a simple tooltip');\r\n\r\n        chart//background\r\n        .selectAll(\".background\")\r\n        .data([null])\r\n        .join('rect')\r\n        .classed('background',true)\r\n        .attr('width',innerWidth)\r\n        .attr('height',innerHeight)\r\n        .style('fill',chartColour)\r\n        .on('click', () => {\r\n          onLegClick(null)\r\n        })\r\n  \r\n      const xAxisGroup = chart.selectAll(\".xAxisGroup\").data([null]).join(\"g\").classed(\"xAxisGroup\",true)\r\n      const yAxisGroup = chart.selectAll(\".yAxisGroup\").data([null]).join(\"g\").classed(\"yAxisGroup\",true)\r\n  \r\n      xAxisGroup//y-axis\r\n      .selectAll(\".x-axis\")\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"g\")\r\n          .style(\"font-size\", \"0.9em\")\r\n          .classed(\"x-axis\", true)\r\n          .attr(\"transform\", `translate(0,${innerHeight})`),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )\r\n      .transition()\r\n      .duration(duration)\r\n      .call(xAxis);\r\n\r\n  if(xAxisGroup.select('.tick text').text()===0){\r\n  xAxisGroup.select('.tick line').remove()\r\n  }\r\n    \r\n\r\n    xAxisGroup//x-axis title\r\n      .selectAll(\".x-axis-title\")\r\n      .data([xAxisTitle])\r\n      .join(\"text\")\r\n      .classed(\"x-axis-title\", true)\r\n      .attr(\"x\", innerWidth / 2)\r\n      .attr(\"y\", innerHeight + xTitleOffset)\r\n      .style(\"font-size\", axisSize)\r\n      .attr(\"fill\", \"black\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text((d) => d);\r\n\r\n    \r\n    yAxisGroup//y-axis\r\n    .selectAll(\".y-axis\")\r\n    .data([null])\r\n    .join((enter) =>\r\n      enter\r\n        .append(\"g\")\r\n        .style(\"font-size\", \"0.9em\")\r\n        .classed(\"y-axis\", true)\r\n        .attr(\"transform\", \"translate(0,0)\"),\r\n      (update) =>\r\n        update,\r\n        (exit) => \r\n        exit\r\n        .transition()\r\n        .duration(duration)\r\n        .remove()\r\n    )\r\n    .transition()\r\n    .duration(duration)\r\n    .call(yAxis);\r\n    \r\n    yAxisGroup//y-axis title\r\n      .selectAll(\".y-axis-title\")\r\n      .data([yAxisTitle])\r\n      .join(\"text\")\r\n      .classed(\"y-axis-title\", true)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", yTitleOffset)\r\n      .attr(\"opacity\",1)\r\n      .style(\"font-size\", axisSize)\r\n      .attr(\"transform\", `translate(${yTitleOffset}, ${innerHeight / 2}) rotate(-90)`)\r\n      .attr(\"fill\", \"#000\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text((d) => d);\r\n\r\n      yAxisGroup//y-axis\r\n      .selectAll(\".xydomain\")\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"path\")\r\n          .classed(\"xydomain\", true),\r\n        (update)=>\r\n          update\r\n          ,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )      \r\n      .transition()\r\n      .duration(duration)\r\n      .attr('fill','none')\r\n      .attr('d',`M0,0V${innerHeight} H${innerWidth}`)\r\n      .attr('stroke',\"black\")\r\n      \r\n      chart //chart title\r\n          .selectAll(\".chart-title\")\r\n          .data([Title])\r\n          .join(\"text\")\r\n          .classed(\"chart-title\",true)\r\n          .attr(\"x\", innerWidth / 2)\r\n          .attr('y',titleOffset)\r\n          .attr(\"fill\", \"#000\")\r\n          .style(\"font-size\", \"14px\")\r\n          .style(\"text-anchor\", \"middle\")\r\n          .text((d) => d);\r\n\r\n    const lineGenerator = line()\r\n      .x(d => xScale(xValue(d)))\r\n      .y(d => yScale(yValue(d)))\r\n\r\n    for(let i=0; i<dataFormatted.length;i++){\r\n\r\n    const points = chart//points\r\n      .selectAll(`.${data[i].abbrev}Marks`)\r\n      .data(dataFormatted[i])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"circle\")\r\n          .classed(`${data[i].abbrev}Marks`, true)\r\n          .attr(\"cy\", (d) => yScale(yValue(d)))\r\n          .attr(\"cx\", (d) => xScale(xValue(d)))\r\n          .attr('r',0),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('r',0)\r\n          .remove()\r\n      )\r\n      .style(\"fill\", () => colorScale(i))\r\n      .on('mouseover',  (d) => {\r\n        const temp = d.target.__data__\r\n        tooltip\r\n          .html(\r\n            `<div>${(temp.Year)}:</div><div>${toolTipText1 + xValue(temp).toFixed(2)} ${formatNumber1}</div><div>${toolTipText2 + yValue(temp).toFixed(2)} ${formatNumber2}</div>`\r\n          )\r\n          .style('visibility', 'visible');\r\n        select(this).transition().attr('fill', \"#eec42d\");\r\n        })\r\n      .on('mousemove', function (d) {\r\n            tooltip\r\n            .style('top', d.pageY -10 + 'px')\r\n            .style('left', d.pageX +10 + 'px');\r\n        })\r\n      .on('mouseout', function () {\r\n            tooltip.html(``).style('visibility', 'hidden');\r\n            select(this).transition().attr('fill', '#437c90');\r\n        })\r\n      \r\n      points\r\n      .transition('opac')\r\n      .duration(duration*0.2)\r\n      .attr('opacity', () => {\r\n        if (legClick === abbrev(data[i]))\r\n            {return 0.8}\r\n        else {\r\n        if (!!legHov){\r\n          if (legHov  === abbrev(data[i]))\r\n            {return 0.8}\r\n          else {return 0.2}\r\n        }\r\n        else if (!legClick && !legHov) {return 0.8}\r\n        else {return 0.2}\r\n      }}\r\n      )\r\n\r\n      points\r\n      .transition('pos')\r\n      .duration(duration)\r\n      .attr(\"cy\", (d) => yScale(yValue(d)))\r\n      .attr(\"cx\", (d) => xScale(xValue(d)))\r\n      .attr('r', radius)\r\n\r\n    const lines = chart//lines\r\n      .selectAll(`.${data[i].abbrev}Line`)\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"path\")\r\n          .classed(`${data[i].abbrev}Line`, true)\r\n          .attr('fill','none'),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )\r\n      .style(\"stroke\", colorScale(i))\r\n      .style(\"stroke-width\",2)\r\n      \r\n      lines\r\n      .transition(\"appear\")\r\n      .duration(duration)\r\n      .attr('d', d => lineGenerator(dataFormatted[i]))\r\n      lines\r\n      .transition(\"opac\")\r\n      .duration(duration*0.2)\r\n      .attr('opacity', () => {\r\n        if (legClick === abbrev(data[i]))\r\n            {return 1}\r\n        else {\r\n        if (!!legHov){\r\n          if (legHov  === abbrev(data[i]))\r\n            {return 1}\r\n          else {return 0.2}\r\n        }\r\n        else if (!legClick && !legHov) {return 1}\r\n        else {return 0.2}\r\n      }}\r\n      )\r\n    }\r\n\r\n    ColourLegend({\r\n      colorScale: colorScale,\r\n      selection: chart,\r\n      duration: duration,\r\n      data: data,\r\n      abbrev: abbrev,\r\n      position: `(${graphWidth - 250},${innerHeight - 100})`,\r\n      radius: 5,\r\n      legHov: legHov, \r\n      onLegHov : onLegHov,\r\n      legClick: legClick,\r\n      onLegClick: onLegClick,\r\n    })\r\n    chart.selectAll('.legend').moveToFront()\r\n};\r\n\r\n  return (\r\n    <div id=\"linechart\">\r\n        <svg className=\"chart\" width={width} height={height}  ref={ref}>\r\n            <g transform={`translate(${margin.left}, ${margin.top})`}/>\r\n        </svg>\r\n        <div className=\"tooltip\"/>\r\n    </div>\r\n  );\r\n}","import {\r\n    select,\r\n    scaleLinear,\r\n    axisBottom,\r\n    axisLeft,\r\n    max,\r\n    scaleOrdinal,\r\n    extent,\r\n    line,\r\n    format,\r\n    selection,\r\n} from \"d3\";\r\n\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport { ColourLegend } from \"./colourLegend\";\r\n\r\nselection.prototype.moveToFront = function() {\r\n  return this.each(function(){\r\n  this.parentNode.appendChild(this);\r\n  });\r\n};\r\n\r\nexport const Linechart = ({ \r\n    graphWidth,\r\n    dataOriginal,  \r\n    xAxisTitle,\r\n    yAxisTitle,\r\n    Title,\r\n    xValue,\r\n    yValue,\r\n    xTitleOffset,\r\n    yTitleOffset,\r\n    titleOffset,\r\n    colorTheme,\r\n    radius,\r\n    country,\r\n    toolTipText1,\r\n    formatNumber1,\r\n    toolTipText2,\r\n    formatNumber2,\r\n    height,\r\n    abbrev,\r\n    legHov,\r\n    onLegHov,\r\n    legClick,\r\n    onLegClick,\r\n    chartColour,\r\n    axisSize,\r\n    margin,\r\n}) => {\r\n  const duration = 2000;\r\n  const width= graphWidth; \r\n  const data = dataOriginal.filter(d => yValue(d))\r\n  \r\n  const innerWidth = width - margin.left - margin.right;\r\n  const innerHeight = height - margin.top - margin.bottom;\r\n  const ref = useRef();\r\n\r\n  let temp3 = [];\r\n\r\n  for(let j=0;j<data.length;j++){\r\n    let temp2 = []\r\n    for(let i=0;i<data[0].Year.length;i++){\r\n        let temp = {}\r\n        temp.Year= data[j].Year[i]\r\n        temp.EV_Usage_Emissions_Years= data[j].EV_Usage_Emissions_Years[i]\r\n        temp.PVonEV_usageEmissions_Years= data[j].PVonEV_usageEmissions_Years[i]\r\n        temp.CIEG_gCO2_kWh_Years = data[j].CIEG_gCO2_kWh_Years[i]\r\n        temp2.push(temp)\r\n      }\r\n    temp3.push(temp2)\r\n    }\r\n  const dataFormatted = temp3\r\n  useEffect(() => {\r\n    draw();\r\n  }, [data]); \r\n\r\n  const draw = () => {\r\n\r\n    let maxY = 0;\r\n\r\n    data.map( d => {\r\n    if (maxY < max(yValue(d)))\r\n      maxY = max(yValue(d))\r\n    })\r\n\r\n    const xScale = scaleLinear()\r\n      .domain(extent(data[0].Year))\r\n      .range([0, innerWidth])\r\n      .nice();\r\n\r\n    const yScale = scaleLinear()\r\n      .domain([0, maxY])\r\n      .range([innerHeight, 0])\r\n      .nice();\r\n\r\n    const xAxis = axisBottom().scale(xScale).tickSizeInner(-innerHeight).tickPadding(10).tickFormat(format(\"d\"));\r\n\r\n    const yAxis = axisLeft().scale(yScale).tickSizeInner(-innerWidth).tickPadding(10);\r\n\r\n    const colorScale = scaleOrdinal(colorTheme).domain(data.map((d,i) => i));\r\n\r\n    const svg = select(ref.current);\r\n    const chart = svg.select(\"g\");\r\n\r\n    const tooltip = select('.tooltip')\r\n        .style('position', 'absolute')\r\n        .style('z-index', '10')\r\n        .style('visibility', 'hidden')\r\n        .style('padding', '10px')\r\n        .style('background', 'rgba(0,0,0,0.6)')\r\n        .style('border-radius', '4px')\r\n        .style('color', '#fff')\r\n        .text('a simple tooltip');\r\n\r\n        chart//background\r\n        .selectAll(\".background\")\r\n        .data([null])\r\n        .join('rect')\r\n        .classed('background',true)\r\n        .attr('width',innerWidth)\r\n        .attr('height',innerHeight)\r\n        .style('fill',chartColour)\r\n        .on('click', () => {\r\n          onLegClick(null)\r\n        })\r\n  \r\n      const xAxisGroup = chart.selectAll(\".xAxisGroup\").data([null]).join(\"g\").classed(\"xAxisGroup\",true)\r\n      const yAxisGroup = chart.selectAll(\".yAxisGroup\").data([null]).join(\"g\").classed(\"yAxisGroup\",true)\r\n  \r\n      xAxisGroup//y-axis\r\n      .selectAll(\".x-axis\")\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"g\")\r\n          .style(\"font-size\", \"0.9em\")\r\n          .classed(\"x-axis\", true)\r\n          .attr(\"transform\", `translate(0,${innerHeight})`),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )\r\n      .transition()\r\n      .duration(duration)\r\n      .call(xAxis);\r\n\r\n  if(xAxisGroup.select('.tick text').text()===0){\r\n  xAxisGroup.select('.tick line').remove()\r\n  }\r\n    \r\n\r\n    xAxisGroup//x-axis title\r\n      .selectAll(\".x-axis-title\")\r\n      .data([xAxisTitle])\r\n      .join(\"text\")\r\n      .classed(\"x-axis-title\", true)\r\n      .attr(\"x\", innerWidth / 2)\r\n      .attr(\"y\", innerHeight + xTitleOffset)\r\n      .style(\"font-size\", axisSize)\r\n      .attr(\"fill\", \"black\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text((d) => d);\r\n\r\n    \r\n    yAxisGroup//y-axis\r\n    .selectAll(\".y-axis\")\r\n    .data([null])\r\n    .join((enter) =>\r\n      enter\r\n        .append(\"g\")\r\n        .style(\"font-size\", \"0.9em\")\r\n        .classed(\"y-axis\", true)\r\n        .attr(\"transform\", \"translate(0,0)\"),\r\n      (update) =>\r\n        update,\r\n        (exit) => \r\n        exit\r\n        .transition()\r\n        .duration(duration)\r\n        .remove()\r\n    )\r\n    .transition()\r\n    .duration(duration)\r\n    .call(yAxis);\r\n    \r\n    yAxisGroup//y-axis title\r\n      .selectAll(\".y-axis-title\")\r\n      .data([yAxisTitle])\r\n      .join(\"text\")\r\n      .classed(\"y-axis-title\", true)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", yTitleOffset)\r\n      .attr(\"opacity\",1)\r\n      .style(\"font-size\", axisSize)\r\n      .attr(\"transform\", `translate(${yTitleOffset}, ${innerHeight / 2}) rotate(-90)`)\r\n      .attr(\"fill\", \"#000\")\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text((d) => d);\r\n\r\n    yAxisGroup//y-axis\r\n      .selectAll(\".xydomain\")\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"path\")\r\n          .classed(\"xydomain\", true),\r\n        (update)=>\r\n          update\r\n          ,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )      \r\n      .transition()\r\n      .duration(duration)\r\n      .attr('fill','none')\r\n      .attr('d',`M0,0V${innerHeight} H${innerWidth}`)\r\n      .attr('stroke',\"black\")        \r\n  \r\n      chart //chart title\r\n          .selectAll(\".chart-title\")\r\n          .data([Title])\r\n          .join(\"text\")\r\n          .classed(\"chart-title\",true)\r\n          .attr(\"x\", innerWidth / 2)\r\n          .attr('y',titleOffset)\r\n          .attr(\"fill\", \"#000\")\r\n          .style(\"font-size\", \"14px\")\r\n          .style(\"text-anchor\", \"middle\")\r\n          .text((d) => d);\r\n\r\n    const lineGenerator = line()\r\n      .x(d => xScale(xValue(d)))\r\n      .y(d => yScale(yValue(d)))\r\n\r\n    for(let i=0; i<dataFormatted.length;i++){\r\n\r\n    const points = chart//points\r\n      .selectAll(`.${data[i].abbrev}Marks`)\r\n      .data(dataFormatted[i])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"circle\")\r\n          .classed(`${data[i].abbrev}Marks`, true)\r\n          .attr(\"cy\", (d) => yScale(yValue(d)))\r\n          .attr(\"cx\", (d) => xScale(xValue(d)))\r\n          .attr('r',0),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('r',0)\r\n          .remove()\r\n      )\r\n      .style(\"fill\", () => colorScale(i))\r\n      .on('mouseover',  d => {\r\n        const temp = d.target.__data__\r\n        tooltip\r\n          .html(\r\n            `<div>${country(data[i])}:</div><div>${toolTipText1 + xValue(temp).toFixed(0)} ${formatNumber1}</div><div>${toolTipText2 + yValue(temp).toFixed(2)} ${formatNumber2}</div>`\r\n          )\r\n          .style('visibility', 'visible');\r\n        select(this).transition().attr('fill', \"#eec42d\");\r\n        })\r\n      .on('mousemove', function (d) {\r\n            tooltip\r\n            .style('top', d.pageY -10 + 'px')\r\n            .style('left', d.pageX +10 + 'px');\r\n        })\r\n      .on('mouseout', function () {\r\n            tooltip.html(``).style('visibility', 'hidden');\r\n            select(this).transition().attr('fill', '#437c90');\r\n        })\r\n\r\n      points\r\n      .transition('opac')\r\n      .duration(duration*0.2)\r\n      .attr('opacity', () => {\r\n        if (legClick === abbrev(data[i]))\r\n            {return 0.9}\r\n        else {\r\n        if (!!legHov){\r\n          if (legHov  === abbrev(data[i]))\r\n            {return 0.9}\r\n          else {return 0.2}\r\n        }\r\n        else if (!legClick && !legHov) {return 0.9}\r\n        else {return 0.2}\r\n      }}\r\n      )\r\n\r\n      points\r\n      .transition('pos')\r\n      .duration(duration)\r\n      .attr(\"cy\", (d) => yScale(yValue(d)))\r\n      .attr(\"cx\", (d) => xScale(xValue(d)))\r\n      .attr('r', radius)\r\n\r\n\r\n    const lines = chart//lines\r\n      .selectAll(`.${data[i].abbrev}Line`)\r\n      .data([null])\r\n      .join((enter) =>\r\n        enter\r\n          .append(\"path\")\r\n          .classed(`${data[i].abbrev}Line`, true)\r\n          .attr('opacity',0)\r\n          .attr('fill','none'),\r\n        (update) =>\r\n          update,\r\n          (exit) => \r\n          exit\r\n          .transition()\r\n          .duration(duration)\r\n          .remove()\r\n      )\r\n      .style(\"stroke\", colorScale(i))\r\n      .style(\"stroke-width\",2)\r\n\r\n      lines\r\n      .transition(\"appear\")\r\n      .duration(duration)\r\n      .attr('d', d => lineGenerator(dataFormatted[i]))\r\n      \r\n      lines\r\n      .transition(\"opac\")\r\n      .duration(duration*0.2)\r\n      .attr('opacity', () => {\r\n        if (legClick === abbrev(data[i]))\r\n            {return 1}\r\n        else {\r\n        if (!!legHov){\r\n          if (legHov  === abbrev(data[i]))\r\n            {return 1}\r\n          else {return 0.2}\r\n        }\r\n        else if (!legClick && !legHov) {return 1}\r\n        else {return 0.2}\r\n      }}\r\n      )\r\n    }\r\n\r\n    ColourLegend({\r\n      colorScale: colorScale,\r\n      selection: chart,\r\n      duration: duration,\r\n      data: data,\r\n      abbrev: abbrev,\r\n      position: `(${innerWidth- 100},20)`,\r\n      radius: 5,\r\n      legHov: legHov,\r\n      onLegHov : onLegHov,\r\n      legClick: legClick,\r\n      onLegClick: onLegClick,\r\n    })\r\n    chart.selectAll('.legend').moveToFront()\r\n};\r\n\r\n  return (\r\n    <div id=\"linechart\">\r\n        <svg className=\"chart\" width={width} height={height}  ref={ref}>\r\n            <g transform={`translate(${margin.left}, ${margin.top})`}/>\r\n        </svg>\r\n        <div className=\"tooltip\"/>\r\n    </div>\r\n  );\r\n}","\r\nimport { Linescatter } from \"../D3_Charts/linescatterChart\";\r\nimport { Linechart } from \"../D3_Charts/lineChart\";\r\n\r\nimport { Flex,Text } from \"@chakra-ui/layout\";\r\nimport {schemeAccent, schemeCategory10,} from 'd3'\r\nimport { useState } from \"react\";\r\n\r\nexport const GraphSelector = ({\r\n    dataOriginal,\r\n    graph,\r\n    graphWidth,\r\n    attributes,\r\n    }) => {\r\n        const height = 450;\r\n        const [legHov, onLegHov] = useState(null)\r\n        const [legClick, onLegClick] = useState(null)\r\n        const axisSize = \"1em\";\r\n        const chartColour = 'rgba(235, 238, 238, 0.5)';\r\n        const yTitleOffset = -30;\r\n        const xTitleOffset = 50;\r\n        const titleOffset = 20;\r\n        const margin = {\r\n            top: 30,\r\n            bottom: 80,\r\n            left: 80,\r\n            right: 30,\r\n          };\r\n\r\n    if (graph === attributes[0]) {\r\n        return <Linescatter\r\n        graphWidth={graphWidth}\r\n        height = {height}\r\n        dataOriginal={dataOriginal}\r\n        xAxisTitle = {'PV on EV Emissions [gCO2e/kWh]'}\r\n        yAxisTitle ={'EV Emissions [gCO2e/kWh]'}\r\n        Title = {''}\r\n        xValue = {d => d.PVonEV_usageEmissions_Years}\r\n        yValue  = {d => d.EV_Usage_Emissions_Years}\r\n        xTitleOffset = {xTitleOffset}\r\n        yTitleOffset = {yTitleOffset}\r\n        titleOffset = {titleOffset}\r\n        chartColour = {chartColour}\r\n        axisSize = {axisSize}\r\n        margin = {margin}\r\n        colorTheme={schemeCategory10}\r\n        radius = {5}\r\n        country = {d => d.region}\r\n        toolTipText1 = \"x: \"\r\n        toolTipText2 = \"y: \"\r\n        formatNumber1 = \"\"\r\n        formatNumber2 = \"\"\r\n        abbrev = {d => d.abbrev}\r\n        legHov = {legHov}\r\n        onLegHov = {onLegHov}\r\n        legClick = {legClick}\r\n        onLegClick = {onLegClick}\r\n        />\r\n        }\r\n    else if (graph === attributes[1]) {\r\n        return <Linechart\r\n        graphWidth={graphWidth}\r\n        height = {height}\r\n        dataOriginal={dataOriginal}\r\n        xAxisTitle = {'Year'}\r\n        yAxisTitle ={'EV Emissions [gCO2e/kWh]'}\r\n        Title = {''}\r\n        xValue = {d => d.Year}\r\n        yValue  = {d => d.EV_Usage_Emissions_Years}\r\n        xTitleOffset = {xTitleOffset}\r\n        yTitleOffset = {yTitleOffset}\r\n        titleOffset = {titleOffset}\r\n        chartColour = {chartColour}\r\n        axisSize = {axisSize}\r\n        margin = {margin}\r\n        colorTheme={schemeCategory10}\r\n        radius = {5}\r\n        country = {d => d.region}\r\n        toolTipText1 = \"Year: \"\r\n        toolTipText2 = \"Value: \"\r\n        formatNumber1 = \"\"\r\n        formatNumber2 = \"\"\r\n        abbrev = {d => d.abbrev}\r\n        legHov = {legHov}\r\n        onLegHov = {onLegHov}\r\n        legClick = {legClick}\r\n        onLegClick = {onLegClick}\r\n        />\r\n        }\r\n    else if (graph === attributes[2]) {\r\n        return <Linechart\r\n        graphWidth={graphWidth}\r\n        height = {height}\r\n        dataOriginal={dataOriginal}\r\n        xAxisTitle = {'Year'}\r\n        yAxisTitle ={'PV on EV Emissions [gCO2e/kWh]'}\r\n        Title = {''}\r\n        xValue = {d => d.Year}\r\n        yValue  = {d => d.PVonEV_usageEmissions_Years}\r\n        xTitleOffset = {xTitleOffset}\r\n        yTitleOffset = {yTitleOffset}\r\n        titleOffset = {titleOffset}\r\n        chartColour = {chartColour}\r\n        axisSize = {axisSize}\r\n        margin = {margin}\r\n        colorTheme={schemeCategory10}\r\n        radius = {5}\r\n        country = {d => d.region}\r\n        toolTipText1 = \"Year: \"\r\n        toolTipText2 = \"Value: \"\r\n        formatNumber1 = \"\"\r\n        formatNumber2 = \"\"\r\n        abbrev = {d => d.abbrev}\r\n        legHov = {legHov}\r\n        onLegHov = {onLegHov}\r\n        legClick = {legClick}\r\n        onLegClick = {onLegClick}\r\n        />\r\n        }\r\n    else if (graph === attributes[3]) {\r\n            return <Linechart\r\n            graphWidth={graphWidth}\r\n            height = {height}\r\n            dataOriginal={dataOriginal}\r\n            xAxisTitle = {'Year'}\r\n            yAxisTitle ={'CIEG [gCO2e/kWh]'}\r\n            Title = {''}\r\n            xValue = {d => d.Year}\r\n            yValue  = {d => d.CIEG_gCO2_kWh_Years}\r\n            xTitleOffset = {xTitleOffset}\r\n            yTitleOffset = {yTitleOffset}\r\n            titleOffset = {titleOffset}\r\n            chartColour = {chartColour}\r\n            axisSize = {axisSize}\r\n            margin = {margin}\r\n            colorTheme={schemeCategory10}\r\n            radius = {5}\r\n            country = {d => d.region}\r\n            toolTipText1 = \"Year: \"\r\n            toolTipText2 = \"Value: \"\r\n            formatNumber1 = \"\"\r\n            formatNumber2 = \"\"\r\n            abbrev = {d => d.abbrev}\r\n            legHov = {legHov}\r\n            onLegHov = {onLegHov}\r\n            legClick = {legClick}\r\n            onLegClick = {onLegClick}\r\n            />\r\n            }\r\n    else {\r\n        return <Flex alignItems=\"center\" width={document.body.clientWidth/2 }><Text>invalid</Text></Flex>\r\n    }\r\n}\r\n    ","import { Flex,Box,Text } from \"@chakra-ui/layout\"\r\nimport { Dropdown } from \"../../UI/DropdownChak\"\r\nimport {useState} from 'react'\r\nimport { GraphSelector } from \"./GraphSelector\";\r\nimport { CalcDataFunc } from \"../../Calculations/calculation\";\r\n\r\nexport const GraphArea2 = ({\r\n    graphWidth,\r\n    VKToption,\r\n    dataRaw,\r\n    cellArea_ratio,\r\n    caseOption,\r\n    PV_performanceRatio,\r\n    PV_CellNominalEffiency,\r\n    text,\r\n    }) => { \r\n    let attributes = new Array();\r\n    let desc = new Array();\r\n    for (var props in text){\r\n        if (text[props].title) {\r\n        attributes.push(text[props].title)\r\n        desc.push(text[props].desc)}\r\n    }\r\n    const  dataOriginal = CalcDataFunc({\r\n        data: dataRaw,\r\n        VKToption: VKToption,\r\n        PV_CellNominalEffiency: PV_CellNominalEffiency/100,\r\n        cellArea_ratio: cellArea_ratio/100,\r\n        caseOption:caseOption,\r\n        PV_performanceRatio:PV_performanceRatio/100,\r\n        useStat: false,\r\n        })\r\n    \r\n    const [graph, setGraph] = useState(\"EV vs PV-on-EV Emissions over time\")\r\n    return (\r\n    <Flex \r\n        borderWidth=\"0px\" \r\n        direction=\"column\" \r\n        width=\"100%\"\r\n        height=\"95%\"\r\n        alignItems=\"center\" \r\n        justifyContent=\"center\"\r\n        background=\"#fffff\">\r\n        <Flex mt=\"2%\" width=\"100%\">\r\n        <Dropdown\r\n            label = {\"Select Graph:\"}\r\n            options={attributes}\r\n            id = {'menuDrop'}\r\n            selectedValue={graph}\r\n            onSelectedValueChange={setGraph}\r\n            width={\"100%\"}\r\n            tooltip = {\"Here you can select different graphs to look at.\"}\r\n        />\r\n        </Flex>\r\n        <Text paddingInline=\"2%\" marginBlock=\"2%\" marginInline=\"8%\" background=\"white\">\r\n        {desc[attributes.indexOf(graph)]}\r\n        </Text>\r\n        <Box id=\"box\" flex=\"1\" height=\"90%\" width=\"95%\" marginInline=\"1%\">\r\n            <GraphSelector\r\n                dataOriginal={dataOriginal}\r\n                graph={graph}\r\n                graphWidth = {graphWidth}\r\n                attributes = {attributes}\r\n            />\r\n        </Box>\r\n    </Flex>\r\n)\r\n    };","\r\nimport { \r\n  Center,\r\n  Flex,\r\n  Heading, \r\n} from \"@chakra-ui/react\" \r\n\r\nimport {VKTSelector, Sliders2, CaseSelector} from './SliderChak'\r\nimport { InfoCalc } from \"./infoCalc.js\"\r\n\r\nexport const UIMaker2 = ({\r\n  caseOption,\r\n  setCaseOption,\r\n  VKToption,\r\n  setVKTOption,\r\n  PV_performanceRatio,\r\n  setPV_performanceRatio,\r\n  PV_CellNominalEffiency,\r\n  setPV_CellNominalEffiency,\r\n  cellArea_ratio,\r\n  setCellArea_ratio,\r\n  graphWidth,\r\n}) => {\r\n\r\n const caseArray = ['High Case','Medium Case','Low Case'];\r\n const energy_consumption_Wh_km  = [280,200,150]\r\n const vehicle_footprint_m2Array = [4.3,4.3,3.68]\r\n const PV_cellarea_cm2 = 153.3;\r\n const STCirradiance_W_m2 = 1000;\r\n const evCaseSelect = caseArray.indexOf(caseOption[0])\r\n let EV_Eff_Wh_km;\r\n let vehicle_footprint_m2;\r\n if (caseOption[1] === false) {\r\n   EV_Eff_Wh_km = energy_consumption_Wh_km[evCaseSelect]\r\n   vehicle_footprint_m2 =  vehicle_footprint_m2Array[evCaseSelect]\r\n  }\r\n  else {\r\n  EV_Eff_Wh_km = caseOption[2]\r\n   vehicle_footprint_m2 =  caseOption[3]\r\n  }\r\nconst PV_totalCellArea = vehicle_footprint_m2*cellArea_ratio/100\r\nconst cellNumber = Math.floor(PV_totalCellArea*10000/PV_cellarea_cm2)\r\nconst PV_CellNominalPower = PV_CellNominalEffiency/100*STCirradiance_W_m2*PV_cellarea_cm2/10000;\r\nconst PV_arrayNominalPower = PV_CellNominalPower * cellNumber;\r\nreturn (\r\n  <Flex \r\n    className=\"UI-box\"\r\n    borderRadius=\"none\" \r\n    direction=\"column\" \r\n    width=\"100%\"\r\n    alignItems=\"center\" \r\n    justifyContent=\"center\"\r\n    background=\"#fbfbfb\"\r\n    padding = \"0%\"\r\n    borderWidth=\"1px\"\r\n    borderColor=\"grey.100\"\r\n  >\r\n    <Center width=\"100%\" height=\"70px\"bg=\"#003E74\" color=\"white\"borderTopRadius=\"none\"> \r\n    <Heading fontSize=\"14pt\"> Choose your Options: </Heading>        \r\n    </Center>\r\n    <CaseSelector\r\n        label = {\"Select EV Type:\"}\r\n        options={caseArray}\r\n        selectedValue={caseOption}\r\n        onSelectedValueChange={setCaseOption}\r\n        tooltip = {\"Here you can select the vehicle footprint and efficency either by low-high or custom\"}\r\n    />\r\n    \r\n    <VKTSelector \r\n      label={'VKT per year:'}\r\n      min={12000} \r\n      max={21000} \r\n      selectedValue = {VKToption}\r\n      onSelectedValueChange = {setVKTOption}\r\n      tooltip = {\"Here you can select the vehicle kilometres travelled: either specific for each region or a universal custom average\"}\r\n      />\r\n    <Sliders2 \r\n      label={'Performance Ratio:'}\r\n      min={40} \r\n      max={95}\r\n      selectedValue = {PV_performanceRatio}\r\n      onSelectedValueChange = {setPV_performanceRatio}\r\n      tooltip = {\"This sets the cell performance ratio: the ratio between the theoretical and actual output of the cell.\"}\r\n    />\r\n    <Sliders2 \r\n      label={'PV Cell Efficiency:'}\r\n      min={15} \r\n      max={35} \r\n      selectedValue = {PV_CellNominalEffiency}\r\n      onSelectedValueChange = {setPV_CellNominalEffiency}\r\n      tooltip = {\"Select how efficient one photovoltaic cell is, i.e. energy losses.\"}\r\n    />\r\n    <Sliders2 \r\n      label={'Cell-Area Ratio:'}\r\n      min={70} \r\n      max={95} \r\n      selectedValue = {cellArea_ratio}\r\n      onSelectedValueChange = {setCellArea_ratio}\r\n      tooltip = {\"Choose how much of the car's footprint is covered by PV cells.\"}\r\n    />\r\n    <InfoCalc\r\n        totalCellArea = {PV_totalCellArea}\r\n        nominalPower = {PV_arrayNominalPower}\r\n        vehicle_footprint_m2 = {vehicle_footprint_m2}\r\n        graphWidth={graphWidth}\r\n    />\r\n  </Flex>\r\n)}","import {Flex} from '@chakra-ui/react' \r\nimport { useState } from 'react';\r\n\r\nimport { GraphArea2 } from \"./GraphSegment\";\r\nimport { UIMaker2 } from \"../../UI/UI2\";\r\n\r\nexport const SecondModel = ({\r\n    graphWidth,\r\n    dataRaw,\r\n    text,\r\n}) => {\r\n\r\n  const [caseOption1,setCaseOption1] =  useState(['Medium Case',false,150,3])\r\n  const [VKToption1, setVKTOption1 ] = useState([18000,false])\r\n  const [cellArea_ratio1, setCellArea_ratio1 ] = useState(85)\r\n  const [PV_CellNominalEfficiency1, setPV_CellNominalEfficiency1 ] = useState(25)\r\n  const [PV_performanceRatio1, setPV_performanceRatio1 ] = useState(77.5)\r\n\r\nreturn (\r\n  <Flex className=\"row\" height=\"auto\"  margin=\"2%\">\r\n  <Flex className=\"column\" width=\"40%\">\r\n    <UIMaker2\r\n\r\n      caseOption={caseOption1}\r\n      setCaseOption={setCaseOption1}\r\n      VKToption={VKToption1}\r\n      setVKTOption={setVKTOption1}\r\n      PV_performanceRatio={PV_performanceRatio1}\r\n      setPV_performanceRatio={setPV_performanceRatio1}\r\n      PV_CellNominalEffiency = {PV_CellNominalEfficiency1}\r\n      setPV_CellNominalEffiency = {setPV_CellNominalEfficiency1}\r\n      cellArea_ratio = {cellArea_ratio1}\r\n      setCellArea_ratio ={setCellArea_ratio1}\r\n      graphWidth = {graphWidth}\r\n      />\r\n  </Flex>\r\n  <Flex id=\"graphArea2\" className=\"column\" width=\"60%\">\r\n    <GraphArea2\r\n      graphWidth = {graphWidth}\r\n      dataRaw = {dataRaw}\r\n      VKToption = {VKToption1}\r\n      cellArea_ratio ={cellArea_ratio1}\r\n      caseOption = {caseOption1}\r\n      PV_performanceRatio ={PV_performanceRatio1}\r\n      PV_CellNominalEffiency ={PV_CellNominalEfficiency1}\r\n      text={text}\r\n    />\r\n  </Flex>\r\n</Flex>\r\n)\r\n}","import { extendTheme } from \"@chakra-ui/react\"\r\nconst theme = extendTheme({\r\n  fonts: {\r\n    heading: \"firasans,Helvetica Neue,Arial,sans-serif\",\r\n    body:\"firasans,Helvetica Neue,Arial,sans-serif\",\r\n  },\r\n  colors: {\r\n    popup: {\r\n      100: \"#66A40A\",\r\n      // ...\r\n      900: \"#3c6105\",\r\n    },\r\n  },\r\n})\r\n\r\nexport default theme","import { Text, Tooltip, Icon,Flex} from \"@chakra-ui/react\"\r\nimport {AiOutlineInfoCircle} from 'react-icons/ai'\r\n// import EVImage from './EV.png'\r\n// import ICEVImage from './ICEV.png'\r\n// import PVImage from './PVONEV.png'\r\nexport const Intro = ({text}) => (\r\n    <Flex marginInline=\"2%\" padding=\"3%\" className=\"row\" background=\"white\">\r\n    <Text >\r\n      {text.p1}\r\n      </Text>\r\n      <br/>\r\n      <Text >\r\n      {text.p2}\r\n      </Text>\r\n      <br/>\r\n      <Text>\r\n        {text.p3}\r\n      </Text>\r\n      <br/>\r\n      <Text>\r\n        I have tried to design this website so that it can be easily understood by anyone, and so I have left some helpful\r\n        pointers. Whenever there is a \r\n      <Tooltip hasArrow  textAlign=\"top\" padding=\"10px\" borderRadius='7px' label={\"Hello there!\"}>\r\n      <span>\r\n      <Icon as={AiOutlineInfoCircle} paddingBottom=\"1px\" marginInline=\"5px\" _hover={{opacity:0.3}}/> \r\n      </span>\r\n      </Tooltip>\r\n          next to something, you can hover over it and it will give small explanation of what it does. Have a go now!\r\n      </Text>\r\n    </Flex>\r\n)","import React, { useState, useEffect} from 'react';\r\nimport {\r\n  ChakraProvider,\r\n   Heading,\r\n    Flex,\r\n    Text,\r\n    Box,\r\n    UnorderedList,\r\n    ListItem,\r\n} from \"@chakra-ui/react\"\r\nimport textjson from \"../textfile.json\"\r\nimport { LoadData } from \"./Calculations/loadData.js\";\r\nimport './app.css'\r\nimport { StudyCaseComp } from './Components/StudyCase/studyCase.js';\r\nimport { Navbar } from './Components/navbar.js';\r\nimport { MainModel } from './Components/MainModel/MainModel.js';\r\nimport { SecondModel } from './Components/SecondModel/SecondModel.js';\r\nimport theme from './impTheme'\r\nimport { Intro } from './Components/Intro.js';\r\nconst App = () => {\r\n\r\n  const [graphWidth,setGraphWidth] = useState(document.body.clientWidth/2.5)\r\n  const [modalHeight, setModalHeight] = useState(window.innerHeight*0.8)\r\n  useEffect(() => {\r\n    const setting = () => {\r\n      setGraphWidth(document.body.clientWidth/2.2)\r\n      setModalHeight(window.innerHeight*0.8)\r\n    }\r\n    window.addEventListener('resize', setting);\r\n    return () => {\r\n    window.removeEventListener('resize', setting);\r\n    }\r\n  }, [])\r\n\r\n  const dataRaw = LoadData()\r\n  if (!dataRaw){\r\n    return <pre></pre>\r\n  }\r\n\r\n  \r\n  return (\r\n    <>\r\n  <ChakraProvider theme={theme} color=\"#EBEEEE\">\r\n    <Navbar sections={[\"World Model\",\"More Models\",\"More Information\"]}/>\r\n    <Box id=\"content\">\r\n\r\n    <Flex id=\"Home\" className=\"section\" >\r\n    <Flex className=\"innerSection\">\r\n      <Flex className=\"row\" alignItems=\"center\" background=\"white\">\r\n      <Heading className=\"sectionHeading\" > Introduction</Heading>\r\n      </Flex>\r\n      <Intro text={textjson[0]}/>\r\n      </Flex>\r\n    </Flex>\r\n\r\n    <Flex id=\"World Model\" className=\"section\">\r\n    <Flex className=\"innerSection\">\r\n      <Flex className=\"row\" alignItems=\"center\">\r\n        <Heading className=\"sectionHeading\">World Model</Heading>\r\n      </Flex>\r\n      <MainModel\r\n          graphWidth = {graphWidth}\r\n          dataRaw = {dataRaw}\r\n          modalHeight = {modalHeight}\r\n          text={textjson[1]}\r\n      />\r\n    </Flex>\r\n    </Flex>\r\n    <Flex id=\"More Models\" className=\"section\" >\r\n      <Flex className=\"innerSection\">\r\n        <Flex className=\"row\" alignItems=\"center\">\r\n          <Heading className=\"sectionHeading\">More Models</Heading>\r\n        </Flex>\r\n          <SecondModel \r\n            graphWidth = {graphWidth}\r\n            dataRaw = {dataRaw}\r\n            text={textjson[2]}\r\n          />\r\n      </Flex>\r\n      <Flex className=\"innerSection\">\r\n          <StudyCaseComp\r\n            graphWidth = {graphWidth}\r\n          />\r\n      </Flex>\r\n    </Flex>\r\n    </Box>\r\n    <Flex id=\"More Information\" className=\"footer\" height=\"auto\">\r\n      <Flex className=\"column\">\r\n        <Flex className=\"row\">\r\n        <Heading borderColor=\"white\" color=\"white\" className=\"sectionHeading\" background=\"none\"> More Information</Heading>\r\n        </Flex>\r\n        <Flex color=\"white\">\r\n          <Text marginInline=\"5%\" marginBlock={\"10px\"} width={graphWidth}>\r\n          {textjson[3].p1}\r\n          </Text>\r\n          <UnorderedList marginInline=\"5%\" marginBlock={\"10px\"}>\r\n            <ListItem ><Text>{textjson[3].l1}</Text></ListItem>\r\n            <ListItem marginBlock=\"10px\"><Text>{textjson[3].l2}</Text></ListItem>\r\n            <ListItem marginBlock=\"10px\"><Text>{textjson[3].l3}</Text></ListItem>\r\n          </UnorderedList>\r\n        </Flex>\r\n      </Flex>\r\n    </Flex>\r\n    </ChakraProvider>\r\n    </>\r\n    );\r\n};\r\n\r\n\r\nexport default App\r\n\r\n\r\n\r\n\r\n","import {json} from 'd3'\r\nimport { useEffect, useState } from 'react';\r\nconst jsonURL = \"https://gist.githubusercontent.com/anujan-k19/104a77c464deeff471758951ca800265/raw/dae2ed0d1625764cd005d7cdfad933baab256219/contentData.json\"\r\nexport const LoadData = () => {\r\n\r\nconst [data, setData] = useState(null)\r\n    useEffect(() => {\r\n        const row = d => {\r\n            d.Annual_GHI_kWh_m2= +d.Annual_GHI_kWh_m2\r\n            d.CIEG2013_gCO2e_kWh= +d.CIEG2013_gCO2e_kWh\r\n            d.Electricity_cost_USD_kWh= +d.Electricity_cost_USD_kWh\r\n            d.ICEV_usage_emissions_gCO2e_km= +d.ICEV_usage_emissions_gCO2e_km\r\n            d.Share_of_diesel_gasoline_vehicles= +d.Share_of_diesel_gasoline_vehicles\r\n            d.VKTstat = +d.VKTstat\r\n            return d;\r\n        };\r\n    json(jsonURL, row).then( data => {setData(data);\r\n    })}, [])\r\n    return data\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './UROP/app';\r\n\r\nconst root = document.getElementById('root')\r\n    ReactDOM.render(\r\n        <App/>,\r\n      root);\r\n"],"sourceRoot":""}